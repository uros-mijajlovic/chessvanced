(()=>{"use strict";var e,t,r,n,o={618:(e,t,r)=>{r.d(t,{qQ:()=>M});const n="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",o=["1-0","0-1","1/2-1/2","*"],a={b:[16,32,17,15],w:[-16,-32,-17,-15]},i={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},s=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],p=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],c={p:0,n:1,b:2,r:3,q:4,k:5},l={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},P={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},h={w:[{square:P.a1,flag:l.QSIDE_CASTLE},{square:P.h1,flag:l.KSIDE_CASTLE}],b:[{square:P.a8,flag:l.QSIDE_CASTLE},{square:P.h8,flag:l.KSIDE_CASTLE}]};function d(e){var t=e.charAt(0);if(t>="a"&&t<="h"){if(e.match(/[a-h]\d.*[a-h]\d/))return;return k}return"o"===(t=t.toLowerCase())?B:t}function u(e){return e.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}function f(e){return e>>4}function g(e){return 15&e}function v(e){var t=g(e),r=f(e);return"abcdefgh".substring(t,t+1)+"87654321".substring(r,r+1)}function m(e){return e===y?N:y}function b(e){var t=e instanceof Array?[]:{};for(var r in e)t[r]="object"==typeof r?b(e[r]):e[r];return t}function R(e){return e.replace(/^\s+|\s+$/g,"")}const N="b",y="w",E=-1,k="p",C="b",B="k",O=(function(){for(var e=[],t=P.a8;t<=P.h1;t++)136&t?t+=7:e.push(v(t))}(),{NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"}),M=function(e){var t=new Array(128),r={w:E,b:E},M=y,w={w:0,b:0},q=E,A=0,Q=1,_=[],K={},F={};function T(e){void 0===e&&(e=!1),t=new Array(128),r={w:E,b:E},M=y,w={w:0,b:0},q=E,A=0,Q=1,_=[],e||(K={}),F={},H(D())}function I(){for(var e=[],t={},r=function(e){e in F&&(t[e]=F[e])};_.length>0;)e.push(ne());for(r(D());e.length>0;)re(e.pop()),r(D());F=t}function S(){x(n)}function x(e,t){void 0===t&&(t=!1);var r=e.split(/\s+/),n=r[0],o=0;if(!L(e).valid)return!1;T(t);for(var a=0;a<n.length;a++){var i=n.charAt(a);if("/"===i)o+=8;else if(-1!=="0123456789".indexOf(i))o+=parseInt(i,10);else{var s=i<"a"?y:N;G({type:i.toLowerCase(),color:s},v(o)),o++}}return M=r[1],r[2].indexOf("K")>-1&&(w.w|=l.KSIDE_CASTLE),r[2].indexOf("Q")>-1&&(w.w|=l.QSIDE_CASTLE),r[2].indexOf("k")>-1&&(w.b|=l.KSIDE_CASTLE),r[2].indexOf("q")>-1&&(w.b|=l.QSIDE_CASTLE),q="-"===r[3]?E:P[r[3]],A=parseInt(r[4],10),Q=parseInt(r[5],10),H(D()),!0}function L(e){var t=e.split(/\s+/);if(6!==t.length)return{valid:!1,error_number:1,error:"FEN string must contain six space-delimited fields."};if(isNaN(parseInt(t[5]))||parseInt(t[5],10)<=0)return{valid:!1,error_number:2,error:"6th field (move number) must be a positive integer."};if(isNaN(parseInt(t[4]))||parseInt(t[4],10)<0)return{valid:!1,error_number:3,error:"5th field (half move counter) must be a non-negative integer."};if(!/^(-|[abcdefgh][36])$/.test(t[3]))return{valid:!1,error_number:4,error:"4th field (en-passant square) is invalid."};if(!/^(KQ?k?q?|Qk?q?|kq?|q|-)$/.test(t[2]))return{valid:!1,error_number:5,error:"3rd field (castling availability) is invalid."};if(!/^(w|b)$/.test(t[1]))return{valid:!1,error_number:6,error:"2nd field (side to move) is invalid."};var r=t[0].split("/");if(8!==r.length)return{valid:!1,error_number:7,error:"1st field (piece positions) does not contain 8 '/'-delimited rows."};for(var n=0;n<r.length;n++){for(var o=0,a=!1,i=0;i<r[n].length;i++)if(isNaN(r[n][i])){if(!/^[prnbqkPRNBQK]$/.test(r[n][i]))return{valid:!1,error_number:9,error:"1st field (piece positions) is invalid [invalid piece]."};o+=1,a=!1}else{if(a)return{valid:!1,error_number:8,error:"1st field (piece positions) is invalid [consecutive numbers]."};o+=parseInt(r[n][i],10),a=!0}if(8!==o)return{valid:!1,error_number:10,error:"1st field (piece positions) is invalid [row too large]."}}return"3"==t[3][1]&&"w"==t[1]||"6"==t[3][1]&&"b"==t[1]?{valid:!1,error_number:11,error:"Illegal en-passant square"}:{valid:!0,error_number:0,error:"No errors."}}function D(){for(var e=0,r="",n=P.a8;n<=P.h1;n++){if(null==t[n])e++;else{e>0&&(r+=e,e=0);var o=t[n].color,a=t[n].type;r+=o===y?a.toUpperCase():a.toLowerCase()}n+1&136&&(e>0&&(r+=e),n!==P.h1&&(r+="/"),e=0,n+=8)}var i="";w[y]&l.KSIDE_CASTLE&&(i+="K"),w[y]&l.QSIDE_CASTLE&&(i+="Q"),w[N]&l.KSIDE_CASTLE&&(i+="k"),w[N]&l.QSIDE_CASTLE&&(i+="q"),i=i||"-";var s=q===E?"-":v(q);return[r,M,i,s,A,Q].join(" ")}function V(e){for(var t=0;t<e.length;t+=2)"string"==typeof e[t]&&"string"==typeof e[t+1]&&(K[e[t]]=e[t+1]);return K}function H(e){_.length>0||(e!==n?(K.SetUp="1",K.FEN=e):(delete K.SetUp,delete K.FEN))}function U(e){var r=t[P[e]];return r?{type:r.type,color:r.color}:null}function G(e,n){if(!("type"in e)||!("color"in e))return!1;if(-1==="pnbrqkPNBRQK".indexOf(e.type.toLowerCase()))return!1;if(!(n in P))return!1;var o=P[n];return(e.type!=B||r[e.color]==E||r[e.color]==o)&&(t[o]={type:e.type,color:e.color},e.type===B&&(r[e.color]=o),H(D()),!0)}function j(e,t,r,n,o){var a={color:M,from:t,to:r,flags:n,piece:e[t].type};return o&&(a.flags|=l.PROMOTION,a.promotion=o),e[r]?a.captured=e[r].type:n&l.EP_CAPTURE&&(a.captured=k),a}function $(e){function n(e,t,r,n,o){if(e[r].type!==k||0!==f(n)&&7!==f(n))t.push(j(e,r,n,o));else for(var a=["q","r",C,"n"],i=0,s=a.length;i<s;i++)t.push(j(e,r,n,o,a[i]))}var o=[],s=M,p=m(s),c={b:1,w:6},h=P.a8,d=P.h1,u=!1,g=void 0===e||!("legal"in e)||e.legal,v=void 0===e||!("piece"in e)||"string"!=typeof e.piece||e.piece.toLowerCase();if(void 0!==e&&"square"in e){if(!(e.square in P))return[];h=d=P[e.square],u=!0}for(var b=h;b<=d;b++)if(136&b)b+=7;else{var R=t[b];if(null!=R&&R.color===s)if(R.type!==k||!0!==v&&v!==k){if(!0===v||v===R.type)for(var N=0,y=i[R.type].length;N<y;N++){var E=i[R.type][N];for(O=b;!(136&(O+=E));){if(null!=t[O]){if(t[O].color===s)break;n(t,o,b,O,l.CAPTURE);break}if(n(t,o,b,O,l.NORMAL),"n"===R.type||"k"===R.type)break}}}else{var O=b+a[s][0];if(null==t[O]){n(t,o,b,O,l.NORMAL);O=b+a[s][1];c[s]===f(b)&&null==t[O]&&n(t,o,b,O,l.BIG_PAWN)}for(N=2;N<4;N++)136&(O=b+a[s][N])||(null!=t[O]&&t[O].color===p?n(t,o,b,O,l.CAPTURE):O===q&&n(t,o,b,q,l.EP_CAPTURE))}}if(!(!0!==v&&v!==B||u&&d!==r[s])){if(w[s]&l.KSIDE_CASTLE){var A=(Q=r[s])+2;null!=t[Q+1]||null!=t[A]||z(p,r[s])||z(p,Q+1)||z(p,A)||n(t,o,r[s],A,l.KSIDE_CASTLE)}var Q;if(w[s]&l.QSIDE_CASTLE)A=(Q=r[s])-2,null!=t[Q-1]||null!=t[Q-2]||null!=t[Q-3]||z(p,r[s])||z(p,Q-1)||z(p,A)||n(t,o,r[s],A,l.QSIDE_CASTLE)}if(!g)return o;var _=[];for(b=0,y=o.length;b<y;b++)re(o[b]),Y(s)||_.push(o[b]),ne();return _}function W(e,t){var r="";if(e.flags&l.KSIDE_CASTLE)r="O-O";else if(e.flags&l.QSIDE_CASTLE)r="O-O-O";else{if(e.piece!==k){var n=function(e,t){for(var r=e.from,n=e.to,o=e.piece,a=0,i=0,s=0,p=0,c=t.length;p<c;p++){var l=t[p].from,P=t[p].to;o===t[p].piece&&r!==l&&n===P&&(a++,f(r)===f(l)&&i++,g(r)===g(l)&&s++)}return a>0?i>0&&s>0?v(r):s>0?v(r).charAt(1):v(r).charAt(0):""}(e,t);r+=e.piece.toUpperCase()+n}e.flags&(l.CAPTURE|l.EP_CAPTURE)&&(e.piece===k&&(r+=v(e.from)[0]),r+="x"),r+=v(e.to),e.flags&l.PROMOTION&&(r+="="+e.promotion.toUpperCase())}return re(e),J()&&(Z()?r+="#":r+="+"),ne(),r}function z(e,r){for(var n=P.a8;n<=P.h1;n++)if(136&n)n+=7;else if(null!=t[n]&&t[n].color===e){var o=t[n],a=n-r,i=a+119;if(s[i]&1<<c[o.type]){if(o.type===k){if(a>0){if(o.color===y)return!0}else if(o.color===N)return!0;continue}if("n"===o.type||"k"===o.type)return!0;for(var l=p[i],h=n+l,d=!1;h!==r;){if(null!=t[h]){d=!0;break}h+=l}if(!d)return!0}}return!1}function Y(e){return z(m(e),r[e])}function J(){return Y(M)}function Z(){return J()&&0===$().length}function X(){return!J()&&0===$().length}function ee(){for(var e={},r=[],n=0,o=0,a=P.a8;a<=P.h1;a++)if(o=(o+1)%2,136&a)a+=7;else{var i=t[a];i&&(e[i.type]=i.type in e?e[i.type]+1:1,i.type===C&&r.push(o),n++)}if(2===n)return!0;if(3===n&&(1===e[C]||1===e.n))return!0;if(n===e[C]+2){var s=0,p=r.length;for(a=0;a<p;a++)s+=r[a];if(0===s||s===p)return!0}return!1}function te(){for(var e=[],t={},r=!1;;){var n=ne();if(!n)break;e.push(n)}for(;;){var o=D().split(" ").slice(0,4).join(" ");if(t[o]=o in t?t[o]+1:1,t[o]>=3&&(r=!0),!e.length)break;re(e.pop())}return r}function re(e){var n=M,o=m(n);if(function(e){_.push({move:e,kings:{b:r.b,w:r.w},turn:M,castling:{b:w.b,w:w.w},ep_square:q,half_moves:A,move_number:Q})}(e),t[e.to]=t[e.from],t[e.from]=null,e.flags&l.EP_CAPTURE&&(M===N?t[e.to-16]=null:t[e.to+16]=null),e.flags&l.PROMOTION&&(t[e.to]={type:e.promotion,color:n}),t[e.to].type===B){if(r[t[e.to].color]=e.to,e.flags&l.KSIDE_CASTLE){var a=e.to-1,i=e.to+1;t[a]=t[i],t[i]=null}else e.flags&l.QSIDE_CASTLE&&(a=e.to+1,i=e.to-2,t[a]=t[i],t[i]=null);w[n]=""}if(w[n])for(var s=0,p=h[n].length;s<p;s++)if(e.from===h[n][s].square&&w[n]&h[n][s].flag){w[n]^=h[n][s].flag;break}if(w[o])for(s=0,p=h[o].length;s<p;s++)if(e.to===h[o][s].square&&w[o]&h[o][s].flag){w[o]^=h[o][s].flag;break}q=e.flags&l.BIG_PAWN?"b"===M?e.to-16:e.to+16:E,e.piece===k||e.flags&(l.CAPTURE|l.EP_CAPTURE)?A=0:A++,M===N&&Q++,M=m(M)}function ne(){var e=_.pop();if(null==e)return null;var n=e.move;r=e.kings,M=e.turn,w=e.castling,q=e.ep_square,A=e.half_moves,Q=e.move_number;var o,a,i=M,s=m(M);if(t[n.from]=t[n.to],t[n.from].type=n.piece,t[n.to]=null,n.flags&l.CAPTURE)t[n.to]={type:n.captured,color:s};else if(n.flags&l.EP_CAPTURE){var p;p=i===N?n.to-16:n.to+16,t[p]={type:k,color:s}}return n.flags&(l.KSIDE_CASTLE|l.QSIDE_CASTLE)&&(n.flags&l.KSIDE_CASTLE?(o=n.to+1,a=n.to-1):n.flags&l.QSIDE_CASTLE&&(o=n.to-2,a=n.to+1),t[o]=t[a],t[a]=null),n}function oe(e,t){for(var r=u(e),n=0;n<2;n++){if(1==n){if(!t)return null;var o=!1;if(c=r.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/)){var a=c[1],i=c[2],s=c[3],p=c[4];1==i.length&&(o=!0)}else{var c;(c=r.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/))&&(a=c[1],i=c[2],s=c[3],p=c[4],1==i.length&&(o=!0))}}for(var l=d(r),h=$({legal:!0,piece:a||l}),f=0,g=h.length;f<g;f++)switch(n){case 0:if(r===u(W(h[f],h)))return h[f];break;case 1:if(c){if(!(a&&a.toLowerCase()!=h[f].piece||P[i]!=h[f].from||P[s]!=h[f].to||p&&p.toLowerCase()!=h[f].promotion))return h[f];if(o){var m=v(h[f].from);if(!(a&&a.toLowerCase()!=h[f].piece||P[s]!=h[f].to||i!=m[0]&&i!=m[1]||p&&p.toLowerCase()!=h[f].promotion))return h[f]}}}}return null}function ae(e){var t=b(e);t.san=W(t,$({legal:!0})),t.to=v(t.to),t.from=v(t.from);var r="";for(var n in l)l[n]&t.flags&&(r+=O[n]);return t.flags=r,t}function ie(e){for(var t=$({legal:!1}),r=0,n=M,o=0,a=t.length;o<a;o++)re(t[o]),Y(n)||(e-1>0?r+=ie(e-1):r++),ne();return r}return x(void 0===e?n:e),{load:function(e){return x(e)},reset:function(){return S()},swapTurn:function(){this.turn==y?this.turn=N:this.turn=y},moves:function(e){for(var t=$(e),r=[],n=0,o=t.length;n<o;n++)void 0!==e&&"verbose"in e&&e.verbose?r.push(ae(t[n])):r.push(W(t[n],$({legal:!0})));return r},in_check:function(){return J()},in_checkmate:function(){return Z()},in_stalemate:function(){return X()},in_draw:function(){return A>=100||X()||ee()||te()},insufficient_material:function(){return ee()},in_threefold_repetition:function(){return te()},game_over:function(){return A>=100||Z()||X()||ee()||te()},validate_fen:function(e){return L(e)},fen:function(){return D()},board:function(){for(var e=[],r=[],n=P.a8;n<=P.h1;n++)null==t[n]?r.push(null):r.push({square:v(n),type:t[n].type,color:t[n].color}),n+1&136&&(e.push(r),r=[],n+=8);return e},pgn:function(e){var t="object"==typeof e&&"string"==typeof e.newline_char?e.newline_char:"\n",r="object"==typeof e&&"number"==typeof e.max_width?e.max_width:0,n=[],o=!1;for(var a in K)n.push("["+a+' "'+K[a]+'"]'+t),o=!0;o&&_.length&&n.push(t);for(var i=function(e){var t=F[D()];return void 0!==t&&(e=`${e}${e.length>0?" ":""}{${t}}`),e},s=[];_.length>0;)s.push(ne());var p=[],c="";for(0===s.length&&p.push(i(""));s.length>0;){c=i(c);var l=s.pop();if(_.length||"b"!==l.color)"w"===l.color&&(c.length&&p.push(c),c=Q+".");else{const e=`${Q}. ...`;c=c?`${c} ${e}`:e}c=c+" "+W(l,$({legal:!0})),re(l)}if(c.length&&p.push(i(c)),void 0!==K.Result&&p.push(K.Result),0===r)return n.join("")+p.join(" ");var P=function(){return n.length>0&&" "===n[n.length-1]&&(n.pop(),!0)},h=function(e,o){for(var a of o.split(" "))if(a){if(e+a.length>r){for(;P();)e--;n.push(t),e=0}n.push(a),e+=a.length,n.push(" "),e++}return P()&&e--,e},d=0;for(a=0;a<p.length;a++)d+p[a].length>r&&p[a].includes("{")?d=h(d,p[a]):(d+p[a].length>r&&0!==a?(" "===n[n.length-1]&&n.pop(),n.push(t),d=0):0!==a&&(n.push(" "),d++),n.push(p[a]),d+=p[a].length);return n.join("")},load_pgn:function(e,t){var r=void 0!==t&&"sloppy"in t&&t.sloppy;function n(e){return e.replace(/\\/g,"\\")}e=e.trim();var a="object"==typeof t&&"string"==typeof t.newline_char?t.newline_char:"\r?\n",i=new RegExp("^(\\[((?:"+n(a)+")|.)*\\])(?:\\s*"+n(a)+"){2}"),s=i.test(e)?i.exec(e)[1]:"";S();var p=function(e,t){for(var r="object"==typeof t&&"string"==typeof t.newline_char?t.newline_char:"\r?\n",o={},a=e.split(new RegExp(n(r))),i="",s="",p=0;p<a.length;p++){var c=/^\s*\[([A-Za-z]+)\s*"(.*)"\s*\]\s*$/;i=a[p].replace(c,"$1"),s=a[p].replace(c,"$2"),R(i).length>0&&(o[i]=s)}return o}(s,t),c="";for(var l in p)"fen"===l.toLowerCase()&&(c=p[l]),V([l,p[l]]);if(r){if(c&&!x(c,!0))return!1}else if(!("1"!==p.SetUp||"FEN"in p&&x(p.FEN,!0)))return!1;for(var P=function(e){return`{${function(e){return Array.from(e).map((function(e){return e.charCodeAt(0)<128?e.charCodeAt(0).toString(16):encodeURIComponent(e).replace(/\%/g,"").toLowerCase()})).join("")}((e=e.replace(new RegExp(n(a),"g")," ")).slice(1,e.length-1))}}`},h=function(e){if(e.startsWith("{")&&e.endsWith("}"))return function(e){return 0==e.length?"":decodeURIComponent("%"+e.match(/.{1,2}/g).join("%"))}(e.slice(1,e.length-1))},d=e.replace(s,"").replace(new RegExp(`({[^}]*})+?|;([^${n(a)}]*)`,"g"),(function(e,t,r){return void 0!==t?P(t):" "+P(`{${r.slice(1)}}`)})).replace(new RegExp(n(a),"g")," "),u=/(\([^\(\)]+\))+?/g;u.test(d);)d=d.replace(u,"");var f=R(d=(d=(d=d.replace(/\d+\.(\.\.)?/g,"")).replace(/\.\.\./g,"")).replace(/\$\d+/g,"")).split(new RegExp(/\s+/));f=f.join(",").replace(/,,+/g,",").split(",");for(var g="",v="",m=0;m<f.length;m++){var b=h(f[m]);if(void 0===b)if(null==(g=oe(f[m],r))){if(!(o.indexOf(f[m])>-1))return!1;v=f[m]}else v="",re(g);else F[D()]=b}return v&&Object.keys(K).length&&!K.Result&&V(["Result",v]),!0},header:function(){return V(arguments)},turn:function(){return M},move:function(e,t){var r=void 0!==t&&"sloppy"in t&&t.sloppy,n=null;if("string"==typeof e)n=oe(e,r);else if("object"==typeof e)for(var o=$(),a=0,i=o.length;a<i;a++)if(e.from===v(o[a].from)&&e.to===v(o[a].to)&&(!("promotion"in o[a])||e.promotion===o[a].promotion)){n=o[a];break}if(!n)return null;var s=ae(n);return re(n),s},undo:function(){var e=ne();return e?ae(e):null},clear:function(){return T()},put:function(e,t){return G(e,t)},get:function(e){return U(e)},ascii(){for(var e="   +------------------------+\n",r=P.a8;r<=P.h1;r++){if(0===g(r)&&(e+=" "+"87654321"[f(r)]+" |"),null==t[r])e+=" . ";else{var n=t[r].type;e+=" "+(t[r].color===y?n.toUpperCase():n.toLowerCase())+" "}r+1&136&&(e+="|\n",r+=8)}return(e+="   +------------------------+\n")+"     a  b  c  d  e  f  g  h"},remove:function(e){return function(e){var n=U(e);return t[P[e]]=null,n&&n.type===B&&(r[n.color]=E),H(D()),n}(e)},perft:function(e){return ie(e)},square_color:function(e){if(e in P){var t=P[e];return(f(t)+g(t))%2==0?"light":"dark"}return null},history:function(e){for(var t=[],r=[],n=(void 0!==e&&"verbose"in e&&e.verbose);_.length>0;)t.push(ne());for(;t.length>0;){var o=t.pop();n?r.push(ae(o)):r.push(W(o,$({legal:!0}))),re(o)}return r},get_comment:function(){return F[D()]},set_comment:function(e){F[D()]=e.replace("{","[").replace("}","]")},delete_comment:function(){var e=F[D()];return delete F[D()],e},get_comments:function(){return I(),Object.keys(F).map((function(e){return{fen:e,comment:F[e]}}))},delete_comments:function(){return I(),Object.keys(F).map((function(e){var t=F[e];return delete F[e],{fen:e,comment:t}}))}}}},344:(e,t,r)=>{r.a(e,(async(e,n)=>{try{r.d(t,{b:()=>p}),r(618);var o=r(392),a=r(842),i=r(689),s=e([o]);o=(s.then?(await s)():s)[0];class p{constructor(e){this.stockfishOrchestrator=null,this.gameAnalysis=[],this.guiHandler=e,this.allDataAnalysisArray=[],this.stopped=!1,this.running=!1}clearData(){this.gameAnalysis=[],this.allDataAnalysisArray=[]}calculateMoveBrilliance(e,t){if(0==t)return"gray";const r=t%2,n=this.allDataAnalysisArray[t-1],a=this.allDataAnalysisArray[t],s=(0,o.LJ)(a[0].CPreal),p=(0,o.LJ)(n[0].CPreal);if(!(1 in n))return"gray";const c=(a[0].CPreal-n[0].CPreal)*(r?1:-1);if(t>=2){const o=this.allDataAnalysisArray[t-2];if(c>-75&&(Math.abs(a[0].CPreal)<75||1==r&&a[0].CPreal>0||0==r&&a[0].CPreal<0)&&i.HX(o[0].FEN,n[0].FEN,a[0].FEN,e))return"brilliant"}if(e==n[0].move)return Math.abs(Math.abs(n[0].CPreal)-Math.abs(n[1].CPreal))>100?"great":"best";if(e==n[1].move&&Math.abs(Math.abs(n[0].CPreal)-Math.abs(n[1].CPreal))<100)return"good";const l=(p-s)*(r?-1:1);return l<-30?"blunder":l<-20?"mistake":l<-10?"inaccuracy":"gray"}sendEval(e){if(this.stopped)return;var t=e.positionEvaluation,r=(e.FENstring,e.regularMove),n=e.moveIndex;this.allDataAnalysisArray.push(t);const a=(0,o.k6)(t);a.moveRating=this.calculateMoveBrilliance(r,n),this.gameAnalysis.push(a),this.guiHandler.updateGraph(this.gameAnalysis),this.checkIfAnalysisFinalized(n+1)}checkIfAnalysisFinalized(e){e==this.moveArray.length&&this.guiHandler.getEloEstimator().calculateElo(this.gameAnalysis,this.fromPerspective)}async stopAnalysis(){if(0!=this.running){for(this.stopped=!0;this.stopped;)console.log("Cekam"),await new Promise((e=>setTimeout(e,100)));this.clearData(),console.log("stopped and started new")}}async analyzePgnGame(e,t,r,n=[],i=[]){await this.stopAnalysis(),this.gameAnalysis=[],i&&(this.allDataAnalysisArray=i);for(let e=0;e<this.allDataAnalysisArray.length;e++){const r=this.allDataAnalysisArray[e];var s={};if(0==e)(s=(0,o.k6)(r)).moveRating="gray";else{const n=t[e-1].fromto,a=e;(s=(0,o.k6)(r)).moveRating=this.calculateMoveBrilliance(n,a)}this.gameAnalysis.push(s)}var p;this.stockfishOrchestrator&&this.stockfishOrchestrator.deleteWorker(),this.stockfishOrchestrator=await(0,a.e)(!1),this.stockfishOrchestrator.analysisOrchestrator=this,this.stockfishOrchestrator.setCallback((e=>{this.sendEval(e)})),console.log("Propusten dalje"),this.running=!0,this.moveArray=t,this.fromPerspective=r,this.fenArray=e,p=this.gameAnalysis?this.gameAnalysis.length:0,this.checkIfAnalysisFinalized(p-1),this.guiHandler.updateGraph(this.gameAnalysis);for(let r=p;r<e.length;r++){const n=e[r];if(this.stopped){console.log("nasilno stopiram");break}0==r?await this.stockfishOrchestrator.waitForRun(n,"",r):await this.stockfishOrchestrator.waitForRun(n,t[r-1].fromto,r)}console.log("gotov"),this.stopped=!1,this.running=!1}}n()}catch(e){n(e)}}))},241:(e,t,r)=>{r.a(e,(async(e,n)=>{try{r.d(t,{Z:()=>p});var o=r(392),a=r(735),i=r(618),s=e([o]);o=(s.then?(await s)():s)[0];class p{constructor(){this.chessObject=(0,i.qQ)(),this.activeTiles=[],this.chessBoard=Chessboard2("chessground",o.W3)}clearArrows(){this.chessBoard.clearArrows()}addBestMoveArrow(e){this.chessBoard.clearArrows();const t=e.substring(0,2),r=e.substring(2,4);this.addArrowToBoard(t,r)}addArrowToBoard(e,t){const r=e+"-"+t;this.chessBoard.addArrow(r,"small")}setPosition(e,t){this.chessObject.load(e),this.chessBoard.position(e,t)}getPieceAtSquare(e){return this.chessObject.get(e)}getChessboard(){return this.chessBoard}flipBoard(){this.chessBoard.flip(),this.flipPromotionPopup(document.getElementById("promotion_bar"))}createButton(e,t,r,n,o){const i=document.createElement("div");i.classList.add("promotion-figure-button");const s=document.createElement("img");return s.src="/img/chesspieces/wikipedia/"+o+a.D.PROMOTION_TO_CHAR[e].toUpperCase()+".png",s.id=`button-${e}`,s.addEventListener("click",(o=>this.promotionChosenCallback(o,t,r,n,e))),i.appendChild(s),i}promotionChosenCallback(e,t,r,n,o){const i=document.getElementById("promotion_bar");for(i.style.visibility="hidden";i.firstChild;)i.removeChild(i.firstChild);t(r,n,a.D.PROMOTION_TO_CHAR[o])}movePromotionPopup(e,t,r){console.log(t);const n=100*(0,o.dF)(t),a="w"==r?0:100;console.log("translate",n,a),"white"==this.chessBoard.orientation()?e.style.transform=`translate(${n}%, ${a}%)`:e.style.transform=`translate(${700-n}%, ${100-a}%)`}flipPromotionPopup(e){const t=e.style.transform,r=/translate\((\d+)%, (\d+)%\)/.exec(t);if(r){const t=parseInt(r[1]),n=parseInt(r[2]);e.style.transform=`translate(${700-t}%, ${100-n}%)`}}createPromotionPopup(e,t,r,n){console.log("PRAVIM DUGMICE");const o=document.getElementById("promotion_bar");this.movePromotionPopup(o,r,n),o.style.visibility="visible";for(let a=0;a<=3;a++){const i=this.createButton(a,e,t,r,n);o.appendChild(i)}}colorTile(e,t,r="yellow_tile"){var n=document.getElementById("chessground");const o=8-parseInt(e[1]),i=e[0].charCodeAt(0)-"a".charCodeAt(0);if(o>=0&&o<8&&i>=0&&i<8){var s=n.firstElementChild.firstElementChild.children[1].children[o].children[i];if(t==a.D.TILE_COLORS.ACTIVE){const t=s.classList[s.classList.length-1];"active"!=t&&(this.activeTiles.push(e),"inactive"==t?(s.classList.remove(t),s.classList.add(r)):s.classList.add(r))}else t==a.D.TILE_COLORS.INACTIVE&&(s.classList.remove(s.classList[s.classList.length-1]),s.classList.add("kurac"))}}deactivateTiles(){for(;this.activeTiles.length>0;)this.colorTile(this.activeTiles[this.activeTiles.length-1],a.D.TILE_COLORS.INACTIVE),this.activeTiles.pop()}}n()}catch(e){n(e)}}))},473:(e,t,r)=>{r.a(e,(async(e,n)=>{try{r.d(t,{Q:()=>i});var o=r(392),a=e([o]);o=(a.then?(await a)():a)[0];class i{writeAccuracies(e,t){document.getElementById("elo-estimator-white").textContent=e.toString(),document.getElementById("elo-estimator-black").textContent=t.toString()}calculateElo(e,t){var r=(0,o.DZ)(e);const n=this.getTotalAccuracy(r,"black").toFixed(1),a=this.getTotalAccuracy(r,"white").toFixed(1);this.writeAccuracies(a,n),console.log("black, white accuracy",n,a)}standardDeviation(e){const t=e.length;if(t<=1)return 0;const r=e.reduce(((e,t)=>e+t),0)/t,n=e.reduce(((e,t)=>e+(t-r)**2),0)/t;return Math.sqrt(n)}getWinPercentagesFromCps(e){var t=[];for(const r of e)t.push((0,o.LJ)(r));return t}getWeighedAccuraciesForCps(e){const t=this.getWinPercentagesFromCps(e);console.log("wplist",t);const r=Math.max(0,Math.min(8,Math.floor(e.length/10))),n=[];for(let e=0;e<t.length-r+1;e++)n.push(t.slice(e,e+r));const a=t.length-r;for(let e=0;e<r-1;e++)n.push(t.slice(a+e,a+r-1));const i=n.map((e=>Math.max(Math.min(this.standardDeviation(e),12),.5)));console.log("weightList",i);var s=[];for(let e=0;e<t.length-1;e++){var p=t[e],c=t[e+1],l=i[e],P=e%2==0,h=(0,o.hJ)(p,c,P);s.push([[h,l],P])}return s}weighted_mean(e){if(!e||0===e.length)return 0;const t=e.reduce(((e,[t,r])=>e+t*r),0),r=e.reduce(((e,[,t])=>e+t),0);return 0===r?0:t/r}getTotalAccuracy(e,t){const r="white"==t,n=this.getWeighedAccuraciesForCps(e),o=[];for(let e=0;e<n.length;e++)n[e][1]===r&&o.push(n[e][0]);return this.weighted_mean(o)}}n()}catch(e){n(e)}}))},759:(e,t,r)=>{r.d(t,{Q:()=>c});var n=0;const o={id:"verticalLinePlugin",afterEvent:function(e,t){if("click"==t.event.type){const{ctx:t,tooltip:r,chartArea:{top:o,right:a,bottom:i,left:s,width:p,height:c},scales:{x:l,y:P}}=e;n=r.dataPoints[0].dataIndex,console.log(n)}},afterDatasetsDraw(e,t,r){const{ctx:o,tooltip:a,chartArea:{top:i,right:s,bottom:p,left:c,width:l,height:P},scales:{x:h,y:d}}=e,u=h.getPixelForValue(n);o.restore(),o.strokeStyle="rgba(170, 252, 255, 0.8)",o.strokeRect(u,i,0,P),o.save()}},a={id:"hoverLinePlugin",beforeDatasetsDraw(e,t,r){const{ctx:n,tooltip:o,chartArea:{top:a,right:i,bottom:s,left:p,width:c,height:l},scales:{x:P,y:h}}=e;if(o._active.length>0){const e=P.getPixelForValue(o.dataPoints[0].dataIndex);n.save(),n.strokeStyle="gray",n.strokeRect(e,a,0,l)}}};var i=r(735),s={lineAtIndex:[2,4,8],labels:[],datasets:[{label:"Data",data:[],lineTension:0,fill:{above:"rgba(255, 255, 255, 0.8)",below:"rgba(0, 0, 0, 0.8)",target:{value:0}},borderWidth:0,pointHitRadius:50,usePointStyle:!0,pointStyle:"circle",pointRadius:[],hoverRadius:5,hoverBorderWidth:0,borderColor:"rgba(170, 252, 255, 0.8)"}]},p=[];class c{constructor(e){this.chartData=s,this.canvasId=e,this.gameAnalysis=null;const t=document.getElementById(e);this.graph=new Chart(t,{type:"line",data:this.chartData,plugins:[o,a],options:{pointBackgroundColor:e=>{const t=e.dataIndex;try{return i.D.Colors[this.gameAnalysis[t].moveRating]}catch(e){return"gray"}},plugins:{legend:{display:!1},verticalLinePlugin:{lineColor:"cyan",xPosition:3},tooltip:{bodySpacing:0,displayColors:!1,callbacks:{title:function(e,t){return""},body:function(e){return"k"},label:function(e){return p[e.dataIndex].CP.toString()}}}},responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{y:{min:-50,max:50,ticks:{display:!1}},x:{ticks:{display:!1}}},onClick:e=>{const t=Chart.helpers.getRelativePosition(e,this.graph),r=this.graph.scales.x.getValueForPixel(t.x),n=this.graph.scales.y.getValueForPixel(t.y);console.log(r,n),this.playerControllerInst.gotoMove(r)}}})}clearData(){this.gameAnalysis=[],p=[],this.chartData.labels=[],this.chartData.datasets[0].data=[],this.chartData.datasets[0].pointRadius=[],this.graph.update()}updateGraph(e){this.gameAnalysis=e,p=e;var t=this.chartData.labels=[],r=this.chartData.datasets[0].data=[],n=this.chartData.datasets[0].pointRadius=[];for(const e of this.gameAnalysis)t.push(e.CP.toString()),r.push(e.evaluation),n.push(i.D.pointSizes[e.moveRating]);this.graph.update()}updateGraphSelectedMove(e){!function(e){n=e}(e),this.graph.update()}}},307:(e,t,r)=>{r.a(e,(async(e,n)=>{try{r.d(t,{C:()=>l});var o=r(989),a=r(735),i=r(241),s=r(473),p=e([i,s]);[i,s]=p.then?(await p)():p;const c={inaccuracy:'\n<g transform="translate(105 -5) scale(0.55)">\n  <circle style="fill:#56b4e9" cx="50" cy="50" r="50" />\n  <path style="fill:#ffffff;stroke-width:0.81934" d="m 37.734375,21.947266 c -3.714341,0 -7.128696,0.463992 -10.242187,1.392578 -3.113493,0.928585 -6.009037,2.130656 -8.685547,3.605468 l 4.34375,8.765626 c 2.348774,-1.201699 4.643283,-2.157093 6.882812,-2.867188 2.239529,-0.710095 4.504676,-1.064453 6.798828,-1.064453 2.294152,0 4.069851,0.463993 5.326172,1.392578 1.310944,0.873963 1.966797,2.185668 1.966797,3.933594 0,1.747925 -0.546219,3.276946 -1.638672,4.58789 -1.037831,1.256322 -2.786121,2.757934 -5.24414,4.50586 -2.785757,2.021038 -4.751362,3.961188 -5.898438,5.818359 -1.147076,1.857171 -1.720703,4.149726 -1.720703,6.88086 v 2.951171 h 10.568359 v -2.376953 c 0,-1.147076 0.137043,-2.10247 0.410156,-2.867187 0.327737,-0.764718 0.928772,-1.557613 1.802735,-2.376953 0.873963,-0.81934 2.103443,-1.802143 3.6875,-2.949219 2.130284,-1.584057 3.905982,-3.058262 5.326172,-4.423828 1.420189,-1.42019 2.485218,-2.951164 3.195312,-4.589844 0.710095,-1.63868 1.064453,-3.576877 1.064453,-5.816406 0,-4.205946 -1.583838,-7.675117 -4.751953,-10.40625 -3.113492,-2.731134 -7.510649,-4.095703 -13.191406,-4.095703 z m 24.744141,0.818359 2.048828,39.083984 h 9.75 L 76.324219,22.765625 Z M 35.357422,68.730469 c -1.966416,0 -3.63248,0.51881 -4.998047,1.55664 -1.365567,0.983208 -2.046875,2.731498 -2.046875,5.244141 0,2.403397 0.681308,4.151687 2.046875,5.244141 1.365567,1.03783 3.031631,1.55664 4.998047,1.55664 1.911793,0 3.550449,-0.51881 4.916016,-1.55664 1.365566,-1.092454 2.048828,-2.840744 2.048828,-5.244141 0,-2.512643 -0.683262,-4.260933 -2.048828,-5.244141 -1.365567,-1.03783 -3.004223,-1.55664 -4.916016,-1.55664 z m 34.003906,0 c -1.966416,0 -3.63248,0.51881 -4.998047,1.55664 -1.365566,0.983208 -2.048828,2.731498 -2.048828,5.244141 0,2.403397 0.683262,4.151687 2.048828,5.244141 1.365567,1.03783 3.031631,1.55664 4.998047,1.55664 1.911793,0 3.550449,-0.51881 4.916016,-1.55664 1.365566,-1.092454 2.046875,-2.840744 2.046875,-5.244141 0,-2.512643 -0.681309,-4.260933 -2.046875,-5.244141 -1.365567,-1.03783 -3.004223,-1.55664 -4.916016,-1.55664 z" />\n</g>\n',mistake:'\n<g transform="translate(105 -5) scale(0.55)">\n  <circle style="fill:#e69f00" cx="50" cy="50" r="50" />\n  <path style="fill:#ffffff;stroke-width:0.932208" d="m 40.435856,60.851495 q 0,-4.661041 1.957637,-7.830548 1.957637,-3.169507 6.711897,-6.618677 4.194937,-2.983065 5.966132,-5.127144 1.864416,-2.237299 1.864416,-5.220365 0,-2.983065 -2.237299,-4.474598 -2.144079,-1.584754 -6.059353,-1.584754 -3.915273,0 -7.737326,1.21187 -3.822053,1.211871 -7.830548,3.262729 L 28.13071,24.495382 q 4.567819,-2.516962 9.881405,-4.101716 5.313586,-1.584753 11.6526,-1.584753 9.694964,0 15.008549,4.66104 5.406807,4.66104 5.406807,11.839042 0,3.822053 -1.21187,6.618677 -1.211871,2.796624 -3.635612,5.220365 -2.423741,2.33052 -6.059352,5.033923 -2.703403,1.957637 -4.194936,3.355949 -1.491533,1.398312 -2.050858,2.703403 -0.466104,1.305091 -0.466104,3.262728 v 2.703403 H 40.435856 Z m -1.491533,18.923822 q 0,-4.288156 2.33052,-5.966131 2.33052,-1.771195 5.686469,-1.771195 3.262728,0 5.593248,1.771195 2.33052,1.677975 2.33052,5.966131 0,4.101716 -2.33052,5.966132 -2.33052,1.771195 -5.593248,1.771195 -3.355949,0 -5.686469,-1.771195 -2.33052,-1.864416 -2.33052,-5.966132 z" />\n</g>\n',blunder:'\n<g transform="translate(105 -5) scale(0.55)">\n  <circle style="fill:#df5353" cx="50" cy="50" r="50" />\n  <path style="fill:#ffffff;stroke-width:0.810558" d="m 31.799294,22.220598 c -3.67453,-10e-7 -7.050841,0.460303 -10.130961,1.378935 -3.08012,0.918633 -5.945403,2.106934 -8.593226,3.565938 l 4.297618,8.67363 c 2.3236,-1.188818 4.592722,-2.135794 6.808247,-2.838277 2.215525,-0.702483 4.45828,-1.053299 6.727842,-1.053299 2.269562,0 4.025646,0.460305 5.268502,1.378937 1.296893,0.864596 1.945788,2.160375 1.945788,3.889565 0,1.72919 -0.541416,3.241939 -1.62216,4.538831 -1.026707,1.242856 -2.756423,2.729237 -5.188097,4.458428 -2.755898,1.999376 -4.700572,3.917682 -5.835354,5.754947 -1.13478,1.837266 -1.702564,4.106388 -1.702564,6.808248 v 2.918681 h 10.4566 v -2.34982 c 0,-1.134781 0.135856,-2.081756 0.406042,-2.838277 0.324222,-0.756521 0.918373,-1.539262 1.782969,-2.349819 0.864595,-0.810559 2.079262,-1.783901 3.646342,-2.918683 2.10745,-1.567078 3.863533,-3.025082 5.268501,-4.376012 1.404967,-1.404967 2.459422,-2.919725 3.161905,-4.540841 0.702483,-1.621116 1.053298,-3.539423 1.053298,-5.754948 0,-4.160865 -1.567492,-7.591921 -4.70165,-10.29378 -3.080121,-2.70186 -7.429774,-4.052384 -13.049642,-4.052384 z m 38.66449,0 c -3.67453,-10e-7 -7.05285,0.460303 -10.132971,1.378935 -3.08012,0.918633 -5.943393,2.106934 -8.591215,3.565938 l 4.295608,8.67363 c 2.323599,-1.188818 4.592721,-2.135794 6.808246,-2.838277 2.215526,-0.702483 4.458281,-1.053299 6.727842,-1.053299 2.269563,0 4.025647,0.460305 5.268502,1.378937 1.296893,0.864596 1.945788,2.160375 1.945788,3.889565 0,1.72919 -0.539406,3.241939 -1.62015,4.538831 -1.026707,1.242856 -2.756423,2.729237 -5.188097,4.458428 -2.755897,1.999376 -4.700572,3.917682 -5.835353,5.754947 -1.134782,1.837266 -1.702564,4.106388 -1.702564,6.808248 v 2.918681 h 10.456599 v -2.34982 c 0,-1.134781 0.133846,-2.081756 0.404032,-2.838277 0.324223,-0.756521 0.918374,-1.539262 1.782969,-2.349819 0.864596,-0.810559 2.081273,-1.783901 3.648352,-2.918683 2.107451,-1.567078 3.863534,-3.025082 5.268502,-4.376012 1.404966,-1.404967 2.45942,-2.919725 3.161904,-4.540841 0.702483,-1.621116 1.053299,-3.539423 1.053299,-5.754948 0,-4.160865 -1.567493,-7.591921 -4.701651,-10.29378 -3.08012,-2.70186 -7.429774,-4.052384 -13.049642,-4.052384 z M 29.449473,68.50341 c -1.945339,0 -3.593943,0.513038 -4.944873,1.539744 -1.350931,0.97267 -2.026192,2.702386 -2.026192,5.188098 0,2.377636 0.675261,4.107352 2.026192,5.188097 1.35093,1.026707 2.999534,1.539745 4.944873,1.539745 1.891302,0 3.51153,-0.513038 4.86246,-1.539745 1.35093,-1.080745 2.026192,-2.810461 2.026192,-5.188097 0,-2.485712 -0.675262,-4.215428 -2.026192,-5.188098 -1.35093,-1.026706 -2.971158,-1.539744 -4.86246,-1.539744 z m 38.662481,0 c -1.945339,0 -3.591933,0.513038 -4.942864,1.539744 -1.35093,0.97267 -2.026192,2.702386 -2.026192,5.188098 0,2.377636 0.675262,4.107352 2.026192,5.188097 1.350931,1.026707 2.997525,1.539745 4.942864,1.539745 1.891302,0 3.513539,-0.513038 4.864469,-1.539745 1.350931,-1.080745 2.026192,-2.810461 2.026192,-5.188097 0,-2.485712 -0.675261,-4.215428 -2.026192,-5.188098 -1.35093,-1.026706 -2.973167,-1.539744 -4.864469,-1.539744 z" />\n</g>\n',brilliant:'\n<g class="layer">\n<title>Layer 1</title>\n<g id="svg_1" transform="matrix(0.55 0 0 0.55 0 0)">\n <circle cx="240.91" cy="40.91" fill="#34c9c9" id="svg_2" r="50"/>\n <text fill="#000000" font-family="Fantasy" font-size="24" id="svg_5" letter-spacing="2" opacity="0.55" stroke-width="0" text-anchor="middle" transform="matrix(3.5161 -0.00597026 0.00557864 3.28546 -551.824 -46.1199)" x="222.06" xml:space="preserve" y="36.71">!</text>\n <text fill="#ffffff" font-family="Fantasy" font-size="24" id="svg_6" letter-spacing="2" opacity="NaN" stroke-width="0" text-anchor="middle" transform="matrix(1 0 0 1 0 0) matrix(2.98604 -0.00493582 0.00534736 3.06578 -492.11 -36.6522)" x="241.41" xml:space="preserve" y="35.73">!</text>\n <text fill="#000000" font-family="Fantasy" font-size="24" id="svg_10" letter-spacing="2" opacity="0.55" stroke-width="0" text-anchor="middle" transform="matrix(3.5161 -0.00597026 0.00557864 3.28546 -526.666 -44.4195)" x="221.91" xml:space="preserve" y="36.15">!</text>\n <text fill="#ffffff" font-family="Fantasy" font-size="24" id="svg_8" letter-spacing="2" opacity="NaN" stroke-width="0" text-anchor="middle" transform="matrix(2.98604 -0.00493582 0.00534736 3.06578 -467.792 -36.8071)" x="241.41" xml:space="preserve" y="35.73">!</text>\n</g>\n</g>\n',great:'<g class="layer">\n<title>Layer 1</title>\n<g id="svg_1" transform="matrix(0.55 0 0 0.55 0 0)">\n <circle cx="240.91" cy="40.91" fill="#4242a3" id="svg_2" r="50"/>\n <text fill="#000000" font-family="Fantasy" font-size="24" id="svg_10" letter-spacing="2" opacity="0.55" stroke-width="0" text-anchor="middle" transform="matrix(1 0 0 1 0 0) matrix(3.5161 -0.00597026 0.00557864 3.28546 -536.922 -42.881)" x="221.91" xml:space="preserve" y="36.15">!</text>\n <text fill="#ffffff" font-family="Fantasy" font-size="24" id="svg_8" letter-spacing="2" opacity="NaN" stroke-width="0" style="cursor: move;" text-anchor="middle" transform="matrix(1 0 0 1 0 0) matrix(2.98604 -0.00493582 0.00534736 3.06578 -478.305 -36.5507)" x="241.41" xml:space="preserve" y="35.73">!</text>\n</g>\n</g>'};class l{constructor(e,t){this.soundHandler=new o.F,this.evaluationGraph=e,this.chessboardHandler=new i.Z,this.eloEstimator=new s.Q,this.sidebar=t,this.boardOrientation="white",this.boardSetup()}getEloEstimator(){return this.eloEstimator}boardSetup(){var e=document.getElementsByClassName("squares-2dea6")[0],t=8;console.log("board ranks",e);for(const r of e.children){const e=r.firstChild;(o=document.createElement("span")).textContent=t.toString(),e.appendChild(o),t-=1}t=8;for(const r of e.children){const e=r.children[7];(o=document.createElement("span")).textContent=t.toString(),e.appendChild(o),t-=1}var r=e.children[0];t=0;for(const e of r.children){var n=document.createElement("span");(o=document.createElement("span")).textContent=String.fromCharCode(97+t),7!=t&&0!=t&&e.appendChild(n),e.appendChild(o),t+=1}r=e.children[7],t=0;for(const e of r.children){var o;n=document.createElement("span"),(o=document.createElement("span")).textContent=String.fromCharCode(97+t),7!=t&&0!=t&&e.appendChild(n),e.appendChild(o),t+=1}}getSidebar(){return this.sidebar}getGameAnalysis(){return this.gameAnalysis}setBoardOrientation(e){this.boardOrientation!=e&&this.flipBoard()}clearData(){this.gameAnalysis=[],this.evaluationGraph.clearData()}showImportPopup(){console.log("Vsiible"),document.getElementById("import_popup").style.visibility="visible"}hideImportPopup(){document.getElementById("import_popup").style.visibility="hidden"}clearArrows(){this.chessboardHandler.clearArrows()}addBestMoveArrow(e){this.chessboardHandler.addBestMoveArrow(e)}addArrowToBoard(e,t){this.chessboardHandler.addArrowToBoard(e,t)}getChessboard(){return this.chessboardHandler.getChessboard()}flipBoard(){"white"==this.boardOrientation?this.boardOrientation="black":this.boardOrientation="white",this.flipGlyphs(),this.sidebar.setCounterOrientation(this.boardOrientation),this.chessboardHandler.flipBoard()}createPromotionPopup(e,t,r,n){this.chessboardHandler.createPromotionPopup(e,t,r,n)}colorTile(e,t,r="yellow_tile"){this.chessboardHandler.colorTile(e,t,r)}deactivateTiles(){this.chessboardHandler.deactivateTiles()}colorTilesForMove(e,t,r){if(this.deactivateTiles(),""!=e&&""!=t){console.log(this.gameAnalysis);const n=this.gameAnalysis[r].moveRating,o=a.D.CssDictForTiles[n];this.colorTile(e,a.D.TILE_COLORS.ACTIVE,o),this.colorTile(t,a.D.TILE_COLORS.ACTIVE,o)}}createGlyph(e,t,r){const n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("viewBox","-20 -20 200 200"),n.style.position="absolute",n.style.width="15.5%",n.style.height="15.5%";const o=c[r];return n.innerHTML=o,"black"==this.boardOrientation?(n.style.left=12.5*(7-t)+"%",n.style.bottom=12.5*(7-e)+"%"):(n.style.left=12.5*t+"%",n.style.bottom=12.5*e+"%"),n}flipGlyphs(){document.getElementsByClassName("squares-2dea6")[0].querySelectorAll("svg").forEach((e=>{const t=e.style.left||"0%",r=e.style.bottom||"0%",n=Math.abs(87.5-parseFloat(t)),o=Math.abs(87.5-parseFloat(r));e.style.left=`${n}%`,e.style.bottom=`${o}%`}))}addGlyphForMove(e,t){this.deactivateGlyphs();const r=this.gameAnalysis[t].moveRating;if(c.hasOwnProperty(r)){const t=parseInt(e[1])-1,n=e[0].charCodeAt(0)-"a".charCodeAt(0);console.log(`${e}, row ${t} column ${n}`);const o=this.createGlyph(t,n,r);document.getElementsByClassName("squares-2dea6")[0].appendChild(o)}}deactivateGlyphs(){const e=document.getElementsByClassName("squares-2dea6")[0].querySelectorAll("svg");for(const t of e)t.remove()}async setBoardAndMove(e,t,r,n,o=a.D.MOVE_TYPE.MOVE_NONE,i=!1){this.soundHandler.playSound(o),this.evaluationGraph.updateGraphSelectedMove(n),this.chessboardHandler.setPosition(e,!1),i?(this.deactivateGlyphs(),this.deactivateTiles(),this.colorTile(t,a.D.TILE_COLORS.ACTIVE,"yellow_tile"),this.colorTile(r,a.D.TILE_COLORS.ACTIVE,"yellow_tile")):(this.colorTilesForMove(t,r,n),this.addGlyphForMove(r,n))}updateGraph(e){this.sidebar.clearMoveCounter();var t=0;for(const r of e)this.addMoveAnalysis(r,t%2==0?"black":"white"),t++;this.gameAnalysis=e,this.evaluationGraph.updateGraph(e)}addMoveAnalysis(e,t){this.sidebar.addSpecialMove(e.moveRating,t)}updateSidebar(e){this.sidebar.setAnalysisData(e)}}n()}catch(e){n(e)}}))},587:(e,t,r)=>{r.a(e,(async(e,n)=>{try{r.d(t,{n:()=>i});var o=r(392),a=e([o]);o=(a.then?(await a)():a)[0];class i{constructor(e,t,r){this.stockfishOrchestrator=e,this.guiHandler=t,this.stockfishOrchestrator.setCallback((e=>{this.evaluationGetCallback(e)})),this.div=r,this.enabled=!1,this.lastFen="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",document.getElementById("toggleSwitch").addEventListener("change",this.toggleSwitched.bind(this))}disableAllLines(){var e=this.div.children;for(let t=0;t<e.length;t++)e[t].style.display="none"}toggleSwitched(){this.enabled=!this.enabled,this.enabled?this.evaulateNewBoard(this.lastFen):(this.disableAllLines(),this.guiHandler.clearArrows())}evaluationGetCallback(e){var t=e.positionEvaluation;if(this.enabled&&this.lastFen){var r=this.div.children;let e=0;const a=t[0].move;for(this.guiHandler.addBestMoveArrow(a);e in t;){var n=r[e];"none"===window.getComputedStyle(n).display&&(n.style.display="flex");const a=(0,o.wV)(t[e].allMoves,t[e].FEN);if(n.querySelector(".liveBestMove").textContent=a.slice(0,8).join(", "),"cp"==t[e].cpOrMate){const r=parseFloat(t[e].CP)/100>0;n.querySelector(".liveEvaluation").textContent=(r?"+":"")+(parseFloat(t[e].CP)/100).toString()}else n.querySelector(".liveEvaluation").textContent="M"+t[e].CP;e++}}}evaulateNewBoard(e){this.lastFen=e,this.enabled&&""!=e&&((0,o.qF)(e)?(this.lastFen="",this.disableAllLines(),this.guiHandler.clearArrows()):this.stockfishOrchestrator.stopAndStartNewAnalysis(e))}}n()}catch(e){n(e)}}))},180:(e,t,r)=>{r.a(e,(async(e,n)=>{try{r.d(t,{Z:()=>c});var o=r(689),a=r(618),i=r(735),s=r(392),p=e([s]);s=(p.then?(await p)():p)[0];class c{constructor(e,t,r){this.liveBoardEvaluation=r,this.currentPgn=null,this.analysisOrchestrator=t,this.guiHandler=e,this.currentMove=0,this.mainChessObject=(0,a.qQ)(),this.alternativeChessObject=(0,a.qQ)(),this.alternativeStackLeft=[],this.alternativeStackRight=[],this.inAlternativePath=!1,this.liveBoardEvaluation=r,this.analysisData=[],this.analyzedFens=[],this.ready=!1}getMoveType(e){return"c"==e?i.D.MOVE_TYPE.MOVE_CAPTURE:i.D.MOVE_TYPE.MOVE_REGULAR}gotoMoveOfType(e,t){console.log("tryna go to move of type",t,e);const r=this.currentMove+(this.currentMove%2==0&&e||this.currentMove%2==1&&!e?1:0);var n=r;for(n+2>=this.currentMoveArray.length?n=1+(e?0:1):n+=2,console.log(this.guiHandler.getGameAnalysis());n!=r&&n!=r+1;){if(console.log(n,"nextmove"),this.guiHandler.getGameAnalysis()[n].moveRating==t)return void this.gotoMove(n);n+2>=this.currentMoveArray.length?n=1+(e?0:1):n+=2}}moveArrayToPgn(e){var t=(0,a.qQ)();for(const r of e)t.move(r.san);return t.pgn()}setGameFromExtension(e,t,r,n,o,a=!1){if(a||this.ready){this.currentFenArray=e,this.currentMoveArray=t,this.analysisData=r,this.analyzedFens=n,this.playerSide=o;const a=this.moveArrayToPgn(t);return this.guiHandler.setBoardOrientation(o),this.guiHandler.updateSidebar(a),this.startAnalysis(),!0}return!1}setPgn(e){this.analysisData=[],this.analyzedFens=[],this.currentPgn=e,this.currentFenArray=(0,o.FB)(this.currentPgn),this.currentMoveArray=(0,o.QZ)(this.currentPgn),this.guiHandler.updateSidebar(e),this.gotoMove(0),this.guiHandler.clearData(),this.startAnalysis()}getChessObject(){return this.inAlternativePath?this.alternativeChessObject:this.mainChessObject}getAlternativeChessObject(){return this.alternativeChessObject}getInAlternative(){return this.inAlternativePath}startAnalysis(){this.analysisOrchestrator.analyzePgnGame(this.currentFenArray,this.currentMoveArray,this.playerSide,this.analysisData,this.analyzedFens)}updateBoardGUI(e,t,r,n,o,a=!1){this.guiHandler.setBoardAndMove(e,t,r,n,o,a),this.liveBoardEvaluation.evaulateNewBoard(e)}makeAlternativeMove(e,t){const r=e.substring(0,2),n=e.substring(2,4),o=this.alternativeChessObject.move({from:r,to:n,promotion:t});if(console.log(o,e,this.alternativeChessObject.fen()),!o)return"snapback";{const o=this.alternativeChessObject.fen();this.inAlternativePath=!0,this.updateBoardGUI(o,r,n,this.currentMove,i.D.MOVE_TYPE.MOVE_REGULAR,!0),this.alternativeStackLeft.push([e,t])}}makePossibleAlternativeMove(e,t){var r;return this.guiHandler.getChessboard().clearCircles(),this.currentMove>=this.currentMoveArray.length?this.inAlternativePath=!0:r=this.currentMoveArray[this.currentMove].from+this.currentMoveArray[this.currentMove].to,1==this.inAlternativePath||e!=r?this.makeAlternativeMove(e,t):void this.gotoMove(this.currentMove+1)}goBackwards(){if(this.inAlternativePath){const e=this.alternativeStackLeft.pop();this.alternativeStackRight.push(e);const t=e[0].substring(0,2),r=e[0].substring(2,4);this.alternativeChessObject.undo(),this.guiHandler.setBoardAndMove(this.alternativeChessObject.fen(),t,r,this.currentMove,i.D.MOVE_TYPE.MOVE_REGULAR,!1),this.alternativeChessObject.fen()==this.mainChessObject.fen()&&(this.inAlternativePath=!1)}else this.gotoMove(this.currentMove-1)}goForwards(){if(this.inAlternativePath){if(this.alternativeStackRight.length>0){const e=this.alternativeStackRight.pop();this.makePossibleAlternativeMove(e[0],e[1])}}else this.gotoMove(this.currentMove+1)}gotoMove(e){if(console.log("going to move",e),this.inAlternativePath=!1,e=(0,s.mY)(e,0,this.currentMoveArray.length),this.currentMove=e,this.mainChessObject.load(this.currentFenArray[e]),this.alternativeChessObject.load(this.currentFenArray[e]),e>0){console.log(this.currentFenArray[e]);const t=this.currentMoveArray[e-1].flags,r=this.getMoveType(t);this.updateBoardGUI(this.currentFenArray[e],this.currentMoveArray[e-1].fromto.substring(0,2),this.currentMoveArray[e-1].fromto.substring(2,4),e,r)}else this.updateBoardGUI(this.currentFenArray[e],"","",e,i.D.MOVE_TYPE.MOVE_REGULAR)}}n()}catch(e){n(e)}}))},337:(e,t,r)=>{r.d(t,{Y:()=>a});var n=r(618),o=r(735);class a{constructor(e){this.div=e,this.playerSide="white",document.getElementById("flipBoardButton").addEventListener("click",(()=>{this.guiHandler.flipBoard()})),document.getElementById("loadpgnButton").addEventListener("click",(()=>{this.guiHandler.showImportPopup()})),document.getElementById("import-button").addEventListener("click",(()=>{this.importFromText()})),document.getElementById("close-import-button").addEventListener("click",(()=>{this.guiHandler.hideImportPopup()}));const t=document.getElementById("moveOverviewDiv");o.D.MOVE_NAMES.forEach((e=>{var r=document.createElement("div");r.className="moveOverview "+o.D.MOVE_TO_ID_NAME[e];var n=document.createElement("span");n.textContent="0",n.id="white-"+o.D.MOVE_TO_ID_NAME[e],n.addEventListener("click",(e=>this.gotoSpecialMove(e)));var a=document.createElement("div");a.textContent=e;var i=document.createElement("span");i.textContent="0",i.id="black-"+o.D.MOVE_TO_ID_NAME[e],i.addEventListener("click",(e=>this.gotoSpecialMove(e))),r.append(n),r.append(a),r.append(i),t.append(r)}))}setCounterOrientation(e){if(this.playerSide!=e){this.playerSide=e;const t=document.getElementById("moveOverviewDiv");"reversed"==t.className?t.className="":t.className="reversed"}}gotoSpecialMove(e){const t=e.target.id;this.playerController.gotoMoveOfType("white"==t.substring(0,5),o.D.ID_NAME_TO_MOVE_RATING[t.slice(6)]),console.log("tried to go to move",e.target.id)}addSpecialMove(e,t){const r=o.D.MOVE_RATING_TO_ID_NAME[e],n=document.getElementById(t+"-"+r);n&&(n.textContent=(parseInt(n.textContent)+1).toString())}clearMoveCounter(){document.getElementById("moveOverviewDiv").querySelectorAll("span").forEach((e=>{e.textContent="0"}))}importFromText(){const e=document.getElementById("pgn_textarea").value;this.guiHandler.hideImportPopup(),this.playerController.setPgn(e)}setAnalysisData(e){console.log("SETUP");const t=e=>{this.playerController.gotoMove(parseInt(e.target.id)+1)},r=(e,r,n)=>{const o=document.createElement("div");o.id=`${e+1}`,o.textContent=""+(e+1)/2,o.className="move-element";const a=document.createElement("div");if(a.className="move-notation clickable",a.textContent=r,a.id=""+(e-1),a.addEventListener("click",t),o.appendChild(a),""!=n){const r=document.createElement("div");r.className="move-notation clickable",r.textContent=n,r.id=`${e}`,r.addEventListener("click",t),o.appendChild(r)}return o};for(;this.div.firstChild;)this.div.removeChild(this.div.firstChild);const o=function(e){const t=(0,n.qQ)();t.load_pgn(e);const r=t.history();var o=[];return r.forEach(((e,t)=>{o.push(e)})),o}(e);var a=[];if(o.forEach(((e,t)=>{if(a.push(e),2==a.length){const e=r(t,a[0],a[1]);this.div.appendChild(e),a=[]}})),1==a.length){const e=r(o.length,a[0],"");this.div.appendChild(e)}}}},989:(e,t,r)=>{r.d(t,{F:()=>a});var n=r(735);async function o(e){const t=await fetch(e);return await t.blob()}class a{constructor(){this.audioArray=Array(5).fill(void 0),o("/assets/audio/standard/Move.mp3").then((e=>{this.audioArray[n.D.MOVE_TYPE.MOVE_REGULAR]=URL.createObjectURL(e)})),o("/assets/audio/standard/Capture.mp3").then((e=>{this.audioArray[n.D.MOVE_TYPE.MOVE_CAPTURE]=URL.createObjectURL(e)})),o("/assets/audio/standard/Check.mp3").then((e=>{this.audioArray[n.D.MOVE_TYPE.MOVE_CHECK]=URL.createObjectURL(e)})),o("/assets/audio/standard/Victory.mp3").then((e=>{this.audioArray[n.D.MOVE_TYPE.MOVE_MATE]=URL.createObjectURL(e)})),o("/assets/audio/standard/THEROOK.mp3").then((e=>{this.audioArray[n.D.MOVE_TYPE.LEVY_THEROOK]=URL.createObjectURL(e)}))}enableSound(){this.enabled=!0}disableSound(){this.enabled=!1}playSound(e){if(e!=n.D.MOVE_TYPE.MOVE_NONE){let t=new Audio(this.audioArray[e]);t.volume=.5,t.play()}}}},735:(e,t,r)=>{var n;r.d(t,{D:()=>n}),function(e){let t,r,n,o;e.STOCKFISH_MOVETIME=500,function(e){e[e.MOVE_REGULAR=0]="MOVE_REGULAR",e[e.MOVE_CAPTURE=1]="MOVE_CAPTURE",e[e.MOVE_CHECK=2]="MOVE_CHECK",e[e.MOVE_MATE=3]="MOVE_MATE",e[e.LEVY_THEROOK=4]="LEVY_THEROOK",e[e.MOVE_NONE=5]="MOVE_NONE"}(t=e.MOVE_TYPE||(e.MOVE_TYPE={})),function(e){e[e.ACTIVE=0]="ACTIVE",e[e.INACTIVE=1]="INACTIVE"}(r=e.TILE_COLORS||(e.TILE_COLORS={})),function(e){e[e.WHITE=0]="WHITE",e[e.BLACK=1]="BLACK",e[e.BOTH=2]="BOTH"}(n=e.ANALYSIS_FOR||(e.ANALYSIS_FOR={})),e.MOVE_NAMES=["Brilliant","Great Move","Best Move","Mistake","Blunder"],e.MOVE_TO_ID_NAME={Brilliant:"brilliant-color","Great Move":"great-color","Best Move":"best-color",Mistake:"mistake-color",Blunder:"blunder-color"},e.ID_NAME_TO_MOVE_RATING={"brilliant-color":"brilliant","great-color":"great","best-color":"best","mistake-color":"mistake","blunder-color":"blunder"},e.MOVE_RATING_TO_ID_NAME={brilliant:"brilliant-color",great:"great-color",best:"best-color",mistake:"mistake-color",blunder:"blunder-color"},e.Colors={brilliant:"rgba(15, 255, 243, 1)",great:"rgba(107, 111, 229, 1)",best:"gray",good:"gray",gray:"gray",inaccuracy:"gray",mistake:"yellow",blunder:"red"},e.CssDictForTiles={brilliant:"brilliant_tile",great:"great_tile",best:"yellow_tile",good:"yellow_tile",gray:"yellow_tile",inaccuracy:"yellow_tile",mistake:"mistake_tile",blunder:"mistake_tile"},e.pointSizes={brilliant:3,great:3,best:1,good:1,gray:1,mistake:1,inaccuracy:1,blunder:1},function(e){e[e.QUEEN=0]="QUEEN",e[e.ROOK=1]="ROOK",e[e.BISHOP=2]="BISHOP",e[e.KNIGHT=3]="KNIGHT"}(o=e.PROMOTION||(e.PROMOTION={})),e.PROMOTION_TO_CHAR={0:"q",1:"r",2:"n",3:"b"},e.PROMOTION_CHAR_TO_IMAGE_URL={q:"/img/chesspieces/wikipedia/bQ.png",r:"/img/chesspieces/wikipedia/bR.png",n:"/img/chesspieces/wikipedia/bN.png",b:"/img/chesspieces/wikipedia/bB.png"}}(n||(n={}))},824:(e,t,r)=>{r.a(e,(async(e,n)=>{try{r.d(t,{sV:()=>g,tQ:()=>b});var o=r(344),a=r(401),i=r(759),s=r(307),p=r(180),c=r(337),l=r(842),P=r(587),h=e([o,s,p,P]);[o,s,p,P]=h.then?(await h)():h;const u=new c.Y(document.getElementById("sidebarComponent")),f=new i.Q("myChart"),g=new s.C(f,u);var d=new o.b(g);const v=await(0,l.e)(!0),m=new P.n(v,g,document.getElementById("liveEvaluationContainer")),b=new p.Z(g,d,m);u.playerController=b,u.guiHandler=g,console.log("playerControllerSet"),document.addEventListener("keydown",(function(e){37===e.keyCode?b.goBackwards():39===e.keyCode&&b.goForwards()})),f.playerControllerInst=b,window.playerControllerInst=b,console.log(b.ready),("https://www.chessvanced.com/"==window.location.href||"https://chessvanced.com/"==window.location.href)&&b.setGameFromExtension(a.w$,a.MK,a.T5,a.uL,"black",!0),b.ready=!0,console.log("successfully finished connectStockfish",window.location.href),n()}catch(e){n(e)}}),1)},401:(e,t,r)=>{r.d(t,{MK:()=>a,T5:()=>o,uL:()=>n,w$:()=>i});const n=JSON.parse('[{"0":{"move":"g1f3","CP":75,"cpOrMate":"cp","FEN":"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1","depth":21},"1":{"move":"d2d4","CP":67,"cpOrMate":"cp","FEN":"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1","depth":21}},{"0":{"move":"e7e6","CP":-15,"cpOrMate":"cp","FEN":"rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR b KQkq e3 0 1","depth":20},"1":{"move":"e7e5","CP":14,"cpOrMate":"cp","FEN":"rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR b KQkq e3 0 1","depth":20}},{"0":{"move":"g1f3","CP":77,"cpOrMate":"cp","FEN":"rnbqkbnr/pppp1ppp/8/4p3/4P3/8/PPPP1PPP/RNBQKBNR w KQkq e6 0 2","depth":21},"1":{"move":"b1c3","CP":52,"cpOrMate":"cp","FEN":"rnbqkbnr/pppp1ppp/8/4p3/4P3/8/PPPP1PPP/RNBQKBNR w KQkq e6 0 2","depth":20}},{"0":{"move":"d7d6","CP":17,"cpOrMate":"cp","FEN":"rnbqkbnr/pppp1ppp/8/4p3/4P3/5N2/PPPP1PPP/RNBQKB1R b KQkq - 1 2","depth":20},"1":{"move":"b8c6","CP":35,"cpOrMate":"cp","FEN":"rnbqkbnr/pppp1ppp/8/4p3/4P3/5N2/PPPP1PPP/RNBQKB1R b KQkq - 1 2","depth":20}},{"0":{"move":"f1b5","CP":73,"cpOrMate":"cp","FEN":"r1bqkbnr/pppp1ppp/2n5/4p3/4P3/5N2/PPPP1PPP/RNBQKB1R w KQkq - 2 3","depth":20},"1":{"move":"f1c4","CP":55,"cpOrMate":"cp","FEN":"r1bqkbnr/pppp1ppp/2n5/4p3/4P3/5N2/PPPP1PPP/RNBQKB1R w KQkq - 2 3","depth":20}},{"0":{"move":"d7d6","CP":5,"cpOrMate":"cp","FEN":"r1bqkbnr/pppp1ppp/2n5/4p3/2B1P3/5N2/PPPP1PPP/RNBQK2R b KQkq - 3 3","depth":19},"1":{"move":"g8f6","CP":25,"cpOrMate":"cp","FEN":"r1bqkbnr/pppp1ppp/2n5/4p3/2B1P3/5N2/PPPP1PPP/RNBQK2R b KQkq - 3 3","depth":19}},{"0":{"move":"c2c3","CP":79,"cpOrMate":"cp","FEN":"r1bqk1nr/pppp1ppp/2n5/2b1p3/2B1P3/5N2/PPPP1PPP/RNBQK2R w KQkq - 4 4","depth":21},"1":{"move":"e1g1","CP":56,"cpOrMate":"cp","FEN":"r1bqk1nr/pppp1ppp/2n5/2b1p3/2B1P3/5N2/PPPP1PPP/RNBQK2R w KQkq - 4 4","depth":20}},{"0":{"move":"c5b4","CP":-91,"cpOrMate":"cp","FEN":"r1bqk1nr/pppp1ppp/2n5/2b1p3/1PB1P3/5N2/P1PP1PPP/RNBQK2R b KQkq b3 0 4","depth":19},"1":{"move":"c5b6","CP":7,"cpOrMate":"cp","FEN":"r1bqk1nr/pppp1ppp/2n5/2b1p3/1PB1P3/5N2/P1PP1PPP/RNBQK2R b KQkq b3 0 4","depth":19}},{"0":{"move":"c2c3","CP":-29,"cpOrMate":"cp","FEN":"r1bqk1nr/pppp1ppp/2n5/4p3/1bB1P3/5N2/P1PP1PPP/RNBQK2R w KQkq - 0 5","depth":20},"1":{"move":"e1g1","CP":-61,"cpOrMate":"cp","FEN":"r1bqk1nr/pppp1ppp/2n5/4p3/1bB1P3/5N2/P1PP1PPP/RNBQK2R w KQkq - 0 5","depth":20}},{"0":{"move":"b4a5","CP":-45,"cpOrMate":"cp","FEN":"r1bqk1nr/pppp1ppp/2n5/4p3/1bB1P3/2P2N2/P2P1PPP/RNBQK2R b KQkq - 0 5","depth":20},"1":{"move":"b4d6","CP":-32,"cpOrMate":"cp","FEN":"r1bqk1nr/pppp1ppp/2n5/4p3/1bB1P3/2P2N2/P2P1PPP/RNBQK2R b KQkq - 0 5","depth":19}},{"0":{"move":"d2d4","CP":0,"cpOrMate":"cp","FEN":"r1bqk1nr/pppp1ppp/2n5/b3p3/2B1P3/2P2N2/P2P1PPP/RNBQK2R w KQkq - 1 6","depth":20},"1":{"move":"e1g1","CP":-9,"cpOrMate":"cp","FEN":"r1bqk1nr/pppp1ppp/2n5/b3p3/2B1P3/2P2N2/P2P1PPP/RNBQK2R w KQkq - 1 6","depth":20}},{"0":{"move":"d7d6","CP":-65,"cpOrMate":"cp","FEN":"r1bqk1nr/pppp1ppp/2n5/b3p3/2B1P3/2P2N2/P2P1PPP/RNBQ1RK1 b kq - 2 6","depth":22},"1":{"move":"g8f6","CP":-64,"cpOrMate":"cp","FEN":"r1bqk1nr/pppp1ppp/2n5/b3p3/2B1P3/2P2N2/P2P1PPP/RNBQ1RK1 b kq - 2 6","depth":22}},{"0":{"move":"d2d4","CP":0,"cpOrMate":"cp","FEN":"r1bqk2r/pppp1ppp/2n2n2/b3p3/2B1P3/2P2N2/P2P1PPP/RNBQ1RK1 w kq - 3 7","depth":21},"1":{"move":"d1c2","CP":-83,"cpOrMate":"cp","FEN":"r1bqk2r/pppp1ppp/2n2n2/b3p3/2B1P3/2P2N2/P2P1PPP/RNBQ1RK1 w kq - 3 7","depth":21}},{"0":{"move":"e5d4","CP":-73,"cpOrMate":"cp","FEN":"r1bqk2r/pppp1ppp/2n2n2/b3p3/2BPP3/2P2N2/P4PPP/RNBQ1RK1 b kq d3 0 7","depth":22},"1":{"move":"d7d6","CP":-56,"cpOrMate":"cp","FEN":"r1bqk2r/pppp1ppp/2n2n2/b3p3/2BPP3/2P2N2/P4PPP/RNBQ1RK1 b kq d3 0 7","depth":22}},{"0":{"move":"c1a3","CP":-48,"cpOrMate":"cp","FEN":"r1bqk2r/pppp1ppp/2n2n2/b7/2BpP3/2P2N2/P4PPP/RNBQ1RK1 w kq - 0 8","depth":20},"1":{"move":"e4e5","CP":-56,"cpOrMate":"cp","FEN":"r1bqk2r/pppp1ppp/2n2n2/b7/2BpP3/2P2N2/P4PPP/RNBQ1RK1 w kq - 0 8","depth":20}},{"0":{"move":"d7d6","CP":-126,"cpOrMate":"cp","FEN":"r1bqk2r/pppp1ppp/2n2n2/b7/2BPP3/5N2/P4PPP/RNBQ1RK1 b kq - 0 8","depth":20},"1":{"move":"f6e4","CP":-89,"cpOrMate":"cp","FEN":"r1bqk2r/pppp1ppp/2n2n2/b7/2BPP3/5N2/P4PPP/RNBQ1RK1 b kq - 0 8","depth":20}},{"0":{"move":"d4d5","CP":-77,"cpOrMate":"cp","FEN":"r1bqk2r/pppp1ppp/2n5/b7/2BPn3/5N2/P4PPP/RNBQ1RK1 w kq - 0 9","depth":21},"1":{"move":"b1d2","CP":-109,"cpOrMate":"cp","FEN":"r1bqk2r/pppp1ppp/2n5/b7/2BPn3/5N2/P4PPP/RNBQ1RK1 w kq - 0 9","depth":21}},{"0":{"move":"c6e7","CP":-110,"cpOrMate":"cp","FEN":"r1bqk2r/pppp1ppp/2n5/b2P4/2B1n3/5N2/P4PPP/RNBQ1RK1 b kq - 0 9","depth":21},"1":{"move":"c6b8","CP":7,"cpOrMate":"cp","FEN":"r1bqk2r/pppp1ppp/2n5/b2P4/2B1n3/5N2/P4PPP/RNBQ1RK1 b kq - 0 9","depth":21}},{"0":{"move":"b1d2","CP":150,"cpOrMate":"cp","FEN":"rnbqk2r/pppp1ppp/8/b2P4/2B1n3/5N2/P4PPP/RNBQ1RK1 w kq - 1 10","depth":22},"1":{"move":"c1a3","CP":47,"cpOrMate":"cp","FEN":"rnbqk2r/pppp1ppp/8/b2P4/2B1n3/5N2/P4PPP/RNBQ1RK1 w kq - 1 10","depth":22}},{"0":{"move":"e4f6","CP":-140,"cpOrMate":"cp","FEN":"rnbqk2r/pppp1ppp/8/b2P4/2BQn3/5N2/P4PPP/RNB2RK1 b kq - 2 10","depth":22},"1":{"move":"f7f5","CP":54,"cpOrMate":"cp","FEN":"rnbqk2r/pppp1ppp/8/b2P4/2BQn3/5N2/P4PPP/RNB2RK1 b kq - 2 10","depth":22}},{"0":{"move":"d5d6","CP":-54,"cpOrMate":"cp","FEN":"rnbqk2r/pppp1ppp/5n2/b2P4/2BQ4/5N2/P4PPP/RNB2RK1 w kq - 3 11","depth":21},"1":{"move":"d4e3","CP":-86,"cpOrMate":"cp","FEN":"rnbqk2r/pppp1ppp/5n2/b2P4/2BQ4/5N2/P4PPP/RNB2RK1 w kq - 3 11","depth":20}},{"0":{"move":"b7b6","CP":-166,"cpOrMate":"cp","FEN":"rnbqk2r/pppp1ppp/5n2/b1QP4/2B5/5N2/P4PPP/RNB2RK1 b kq - 4 11","depth":20},"1":{"move":"c7c6","CP":-29,"cpOrMate":"cp","FEN":"rnbqk2r/pppp1ppp/5n2/b1QP4/2B5/5N2/P4PPP/RNB2RK1 b kq - 4 11","depth":19}},{"0":{"move":"c5a5","CP":329,"cpOrMate":"cp","FEN":"rnbqk2r/ppp2ppp/3p1n2/b1QP4/2B5/5N2/P4PPP/RNB2RK1 w kq - 0 12","depth":20},"1":{"move":"c5e3","CP":-86,"cpOrMate":"cp","FEN":"rnbqk2r/ppp2ppp/3p1n2/b1QP4/2B5/5N2/P4PPP/RNB2RK1 w kq - 0 12","depth":19}},{"0":{"move":"e8g8","CP":320,"cpOrMate":"cp","FEN":"rnbqk2r/ppp2ppp/3p1n2/Q2P4/2B5/5N2/P4PPP/RNB2RK1 b kq - 0 12","depth":19},"1":{"move":"e8f8","CP":473,"cpOrMate":"cp","FEN":"rnbqk2r/ppp2ppp/3p1n2/Q2P4/2B5/5N2/P4PPP/RNB2RK1 b kq - 0 12","depth":19}},{"0":{"move":"c1b2","CP":350,"cpOrMate":"cp","FEN":"rnbq1rk1/ppp2ppp/3p1n2/Q2P4/2B5/5N2/P4PPP/RNB2RK1 w - - 1 13","depth":21},"1":{"move":"a5d2","CP":333,"cpOrMate":"cp","FEN":"rnbq1rk1/ppp2ppp/3p1n2/Q2P4/2B5/5N2/P4PPP/RNB2RK1 w - - 1 13","depth":20}},{"0":{"move":"b8d7","CP":271,"cpOrMate":"cp","FEN":"rnbq1rk1/ppp2ppp/3p1n2/Q2P2B1/2B5/5N2/P4PPP/RN3RK1 b - - 2 13","depth":20},"1":{"move":"h7h6","CP":294,"cpOrMate":"cp","FEN":"rnbq1rk1/ppp2ppp/3p1n2/Q2P2B1/2B5/5N2/P4PPP/RN3RK1 b - - 2 13","depth":20}},{"0":{"move":"g5f6","CP":320,"cpOrMate":"cp","FEN":"rnbq1rk1/ppp2pp1/3p1n1p/Q2P2B1/2B5/5N2/P4PPP/RN3RK1 w - - 0 14","depth":21},"1":{"move":"g5h4","CP":324,"cpOrMate":"cp","FEN":"rnbq1rk1/ppp2pp1/3p1n1p/Q2P2B1/2B5/5N2/P4PPP/RN3RK1 w - - 0 14","depth":20}},{"0":{"move":"c8f5","CP":273,"cpOrMate":"cp","FEN":"rnbq1rk1/ppp2pp1/3p1n1p/Q2P4/2B4B/5N2/P4PPP/RN3RK1 b - - 1 14","depth":21},"1":{"move":"c8g4","CP":279,"cpOrMate":"cp","FEN":"rnbq1rk1/ppp2pp1/3p1n1p/Q2P4/2B4B/5N2/P4PPP/RN3RK1 b - - 1 14","depth":21}},{"0":{"move":"f3g5","CP":370,"cpOrMate":"cp","FEN":"rnbq1rk1/ppp2p2/3p1n1p/Q2P2p1/2B4B/5N2/P4PPP/RN3RK1 w - g6 0 15","depth":21},"1":{"move":"h4g3","CP":332,"cpOrMate":"cp","FEN":"rnbq1rk1/ppp2p2/3p1n1p/Q2P2p1/2B4B/5N2/P4PPP/RN3RK1 w - g6 0 15","depth":21}},{"0":{"move":"h6g5","CP":414,"cpOrMate":"cp","FEN":"rnbq1rk1/ppp2p2/3p1n1p/Q2P2N1/2B4B/8/P4PPP/RN3RK1 b - - 0 15","depth":21},"1":{"move":"b7b6","CP":546,"cpOrMate":"cp","FEN":"rnbq1rk1/ppp2p2/3p1n1p/Q2P2N1/2B4B/8/P4PPP/RN3RK1 b - - 0 15","depth":20}},{"0":{"move":"h4g5","CP":374,"cpOrMate":"cp","FEN":"rnbq1rk1/ppp2p2/3p1n2/Q2P2p1/2B4B/8/P4PPP/RN3RK1 w - - 0 16","depth":21},"1":{"move":"h4g3","CP":-18,"cpOrMate":"cp","FEN":"rnbq1rk1/ppp2p2/3p1n2/Q2P2p1/2B4B/8/P4PPP/RN3RK1 w - - 0 16","depth":21}},{"0":{"move":"f8e8","CP":364,"cpOrMate":"cp","FEN":"rnbq1rk1/ppp2p2/3p1n2/Q2P2B1/2B5/8/P4PPP/RN3RK1 b - - 0 16","depth":23},"1":{"move":"c8f5","CP":348,"cpOrMate":"cp","FEN":"rnbq1rk1/ppp2p2/3p1n2/Q2P2B1/2B5/8/P4PPP/RN3RK1 b - - 0 16","depth":22}},{"0":{"move":"b1d2","CP":400,"cpOrMate":"cp","FEN":"rn1q1rk1/ppp2p2/3p1n2/Q2P1bB1/2B5/8/P4PPP/RN3RK1 w - - 1 17","depth":22},"1":{"move":"f1e1","CP":363,"cpOrMate":"cp","FEN":"rn1q1rk1/ppp2p2/3p1n2/Q2P1bB1/2B5/8/P4PPP/RN3RK1 w - - 1 17","depth":22}},{"0":{"move":"d8f6","CP":88,"cpOrMate":"cp","FEN":"rn1q1rk1/ppp2p2/3p1B2/Q2P1b2/2B5/8/P4PPP/RN3RK1 b - - 0 17","depth":20},"1":{"move":"d8c8","CP":814,"cpOrMate":"cp","FEN":"rn1q1rk1/ppp2p2/3p1B2/Q2P1b2/2B5/8/P4PPP/RN3RK1 b - - 0 17","depth":19}},{"0":{"move":"b1a3","CP":126,"cpOrMate":"cp","FEN":"rn3rk1/ppp2p2/3p1q2/Q2P1b2/2B5/8/P4PPP/RN3RK1 w - - 0 18","depth":19},"1":{"move":"b1d2","CP":108,"cpOrMate":"cp","FEN":"rn3rk1/ppp2p2/3p1q2/Q2P1b2/2B5/8/P4PPP/RN3RK1 w - - 0 18","depth":18}},{"0":{"move":"c7c5","CP":64,"cpOrMate":"cp","FEN":"rn3rk1/ppp2p2/3p1q2/Q2P1b2/2B5/8/P2N1PPP/R4RK1 b - - 1 18","depth":19},"1":{"move":"b8d7","CP":94,"cpOrMate":"cp","FEN":"rn3rk1/ppp2p2/3p1q2/Q2P1b2/2B5/8/P2N1PPP/R4RK1 b - - 1 18","depth":19}},{"0":{"move":"a1e1","CP":166,"cpOrMate":"cp","FEN":"rn3r1k/ppp2p2/3p1q2/Q2P1b2/2B5/8/P2N1PPP/R4RK1 w - - 2 19","depth":19},"1":{"move":"f1e1","CP":116,"cpOrMate":"cp","FEN":"rn3r1k/ppp2p2/3p1q2/Q2P1b2/2B5/8/P2N1PPP/R4RK1 w - - 2 19","depth":19}},{"0":{"move":"b8d7","CP":79,"cpOrMate":"cp","FEN":"rn3r1k/ppQ2p2/3p1q2/3P1b2/2B5/8/P2N1PPP/R4RK1 b - - 0 19","depth":21},"1":{"move":"f8g8","CP":110,"cpOrMate":"cp","FEN":"rn3r1k/ppQ2p2/3p1q2/3P1b2/2B5/8/P2N1PPP/R4RK1 b - - 0 19","depth":21}},{"0":{"move":"a1d1","CP":161,"cpOrMate":"cp","FEN":"rn4rk/ppQ2p2/3p1q2/3P1b2/2B5/8/P2N1PPP/R4RK1 w - - 1 20","depth":20},"1":{"move":"g2g3","CP":129,"cpOrMate":"cp","FEN":"rn4rk/ppQ2p2/3p1q2/3P1b2/2B5/8/P2N1PPP/R4RK1 w - - 1 20","depth":20}},{"0":{"move":"f5h3","CP":-1079,"cpOrMate":"cp","FEN":"rn4rk/ppQ2p2/3p1q2/3P1b2/2B5/5N2/P4PPP/R4RK1 b - - 2 20","depth":23},"1":{"move":"f5e4","CP":-651,"cpOrMate":"cp","FEN":"rn4rk/ppQ2p2/3p1q2/3P1b2/2B5/5N2/P4PPP/R4RK1 b - - 2 20","depth":23}},{"0":{"move":"c4e2","CP":-1094,"cpOrMate":"cp","FEN":"rn4rk/ppQ2p2/3p1q2/3P4/2B5/5N1b/P4PPP/R4RK1 w - - 3 21","depth":23},"1":{"move":"f3h4","CP":-1108,"cpOrMate":"cp","FEN":"rn4rk/ppQ2p2/3p1q2/3P4/2B5/5N1b/P4PPP/R4RK1 w - - 3 21","depth":22}},{"0":{"move":"h3g2","CP":-1289,"cpOrMate":"cp","FEN":"rn4rk/ppQ2p2/3p1q2/3P4/2B5/7b/P4PPP/R3NRK1 b - - 4 21","depth":22},"1":{"move":"b8d7","CP":-686,"cpOrMate":"cp","FEN":"rn4rk/ppQ2p2/3p1q2/3P4/2B5/7b/P4PPP/R3NRK1 b - - 4 21","depth":22}},{"0":{"move":"c7c8","CP":-1274,"cpOrMate":"cp","FEN":"rn4rk/ppQ2p2/3p1q2/3P4/2B5/8/P4PbP/R3NRK1 w - - 0 22","depth":22},"1":{"move":"f2f3","CP":-12,"cpOrMate":"mate","FEN":"rn4rk/ppQ2p2/3p1q2/3P4/2B5/8/P4PbP/R3NRK1 w - - 0 22","depth":22}},{"0":{"move":"f6g5","CP":-2,"cpOrMate":"mate","FEN":"rn4rk/ppQ2p2/3p1q2/3P4/2B5/8/P4PNP/R4RK1 b - - 0 22","depth":245},"1":{"move":"f6f3","CP":-2,"cpOrMate":"mate","FEN":"rn4rk/ppQ2p2/3p1q2/3P4/2B5/8/P4PNP/R4RK1 b - - 0 22","depth":245}},{"0":{"move":"a2a3","CP":-1,"cpOrMate":"mate","FEN":"rn4rk/ppQ2p2/3p4/3P2q1/2B5/8/P4PNP/R4RK1 w - - 1 23","depth":245},"1":{"move":"f2f3","CP":-1,"cpOrMate":"mate","FEN":"rn4rk/ppQ2p2/3p4/3P2q1/2B5/8/P4PNP/R4RK1 w - - 1 23","depth":245}},{"0":{"move":"g5g2","CP":-1,"cpOrMate":"mate","FEN":"rn4rk/ppQ2p2/3p4/3P2q1/8/8/P3BPNP/R4RK1 b - - 2 23","depth":29},"1":{"move":"b8c6","CP":-96,"cpOrMate":"cp","FEN":"rn4rk/ppQ2p2/3p4/3P2q1/8/8/P3BPNP/R4RK1 b - - 2 23","depth":28}}, {"0":{"move":-1,"isCheckmated":true,"CP":1,"cpOrMate":"mate","FEN":"rn4rk/ppQ2p2/3p4/3P4/8/8/P3BPqP/R4RK1 w - - 0 24","depth":123}}]'),o=JSON.parse('[{"evaluation":7.444251681165904,"CP":75,"moveRating":"gray"},{"evaluation":-1.49955016194101,"CP":-15,"moveRating":"gray"},{"evaluation":7.639700890275547,"CP":77,"moveRating":"good"},{"evaluation":1.699345236094496,"CP":17,"moveRating":"best"},{"evaluation":7.248569538880945,"CP":73,"moveRating":"good"},{"evaluation":0.49998333399997597,"CP":5,"moveRating":"good"},{"evaluation":7.834911338823836,"CP":79,"moveRating":"gray"},{"evaluation":-9.000837522888,"CP":-91,"moveRating":"gray"},{"evaluation":-2.8967525030951844,"CP":-29,"moveRating":"best"},{"evaluation":-4.487889237358006,"CP":-45,"moveRating":"best"},{"evaluation":0,"CP":0,"moveRating":"best"},{"evaluation":-6.463629180302921,"CP":-65,"moveRating":"good"},{"evaluation":0,"CP":0,"moveRating":"good"},{"evaluation":-7.248569538880945,"CP":-73,"moveRating":"best"},{"evaluation":-4.785308556162748,"CP":-48,"moveRating":"best"},{"evaluation":-12.339888456961523,"CP":-126,"moveRating":"gray"},{"evaluation":-7.639700890275552,"CP":-77,"moveRating":"good"},{"evaluation":-10.825903074651439,"CP":-110,"moveRating":"best"},{"evaluation":14.56563062257954,"CP":150,"moveRating":"mistake"},{"evaluation":-13.645254028156634,"CP":-140,"moveRating":"mistake"},{"evaluation":-5.379102294920174,"CP":-54,"moveRating":"best"},{"evaluation":-16.015835972375736,"CP":-166,"moveRating":"gray"},{"evaluation":28.85154409609071,"CP":329,"moveRating":"mistake"},{"evaluation":28.24497764231124,"CP":320,"moveRating":"great"},{"evaluation":30.21838885585818,"CP":350,"moveRating":"great"},{"evaluation":24.725019958306905,"CP":271,"moveRating":"gray"},{"evaluation":28.24497764231124,"CP":320,"moveRating":"good"},{"evaluation":24.875814752769553,"CP":273,"moveRating":"good"},{"evaluation":31.457258070701776,"CP":370,"moveRating":"gray"},{"evaluation":33.97003196067644,"CP":414,"moveRating":"brilliant"},{"evaluation":31.697713237722212,"CP":374,"moveRating":"great"},{"evaluation":31.092012271281078,"CP":364,"moveRating":"great"},{"evaluation":33.201838513392445,"CP":400,"moveRating":"good"},{"evaluation":8.71024895421696,"CP":88,"moveRating":"mistake"},{"evaluation":12.339888456961534,"CP":126,"moveRating":"great"},{"evaluation":6.365275022536809,"CP":64,"moveRating":"good"},{"evaluation":16.015835972375736,"CP":166,"moveRating":"gray"},{"evaluation":7.834911338823836,"CP":79,"moveRating":"gray"},{"evaluation":15.565710549848433,"CP":161,"moveRating":"good"},{"evaluation":-48.682276845378354,"CP":-1079,"moveRating":"mistake"},{"evaluation":-48.75806202676917,"CP":-1094,"moveRating":"great"},{"evaluation":-49.42683289562925,"CP":-1289,"moveRating":"gray"},{"evaluation":-49.39160585245791,"CP":-1274,"moveRating":"brilliant"},{"CP":"M-2","evaluation":-49,"moveRating":"gray"},{"CP":"M-1","evaluation":-49,"moveRating":"best"},{"CP":"M-1","evaluation":-49,"moveRating":"gray"}, {"CP":"M0","evaluation":-49,"moveRating":"best"}]'),a=JSON.parse('[{"color":"w","from":"e2","to":"e4","flags":"b","piece":"p","san":"e4","fromto":"e2e4"},{"color":"b","from":"e7","to":"e5","flags":"b","piece":"p","san":"e5","fromto":"e7e5"},{"color":"w","from":"g1","to":"f3","flags":"n","piece":"n","san":"Nf3","fromto":"g1f3"},{"color":"b","from":"b8","to":"c6","flags":"n","piece":"n","san":"Nc6","fromto":"b8c6"},{"color":"w","from":"f1","to":"c4","flags":"n","piece":"b","san":"Bc4","fromto":"f1c4"},{"color":"b","from":"f8","to":"c5","flags":"n","piece":"b","san":"Bc5","fromto":"f8c5"},{"color":"w","from":"b2","to":"b4","flags":"b","piece":"p","san":"b4","fromto":"b2b4"},{"color":"b","from":"c5","to":"b4","flags":"c","piece":"b","captured":"p","san":"Bxb4","fromto":"c5b4"},{"color":"w","from":"c2","to":"c3","flags":"n","piece":"p","san":"c3","fromto":"c2c3"},{"color":"b","from":"b4","to":"a5","flags":"n","piece":"b","san":"Ba5","fromto":"b4a5"},{"color":"w","from":"e1","to":"g1","flags":"k","piece":"k","san":"O-O","fromto":"e1g1"},{"color":"b","from":"g8","to":"f6","flags":"n","piece":"n","san":"Nf6","fromto":"g8f6"},{"color":"w","from":"d2","to":"d4","flags":"b","piece":"p","san":"d4","fromto":"d2d4"},{"color":"b","from":"e5","to":"d4","flags":"c","piece":"p","captured":"p","san":"exd4","fromto":"e5d4"},{"color":"w","from":"c3","to":"d4","flags":"c","piece":"p","captured":"p","san":"cxd4","fromto":"c3d4"},{"color":"b","from":"f6","to":"e4","flags":"c","piece":"n","captured":"p","san":"Nxe4","fromto":"f6e4"},{"color":"w","from":"d4","to":"d5","flags":"n","piece":"p","san":"d5","fromto":"d4d5"},{"color":"b","from":"c6","to":"b8","flags":"n","piece":"n","san":"Nb8","fromto":"c6b8"},{"color":"w","from":"d1","to":"d4","flags":"n","piece":"q","san":"Qd4","fromto":"d1d4"},{"color":"b","from":"e4","to":"f6","flags":"n","piece":"n","san":"Nf6","fromto":"e4f6"},{"color":"w","from":"d4","to":"c5","flags":"n","piece":"q","san":"Qc5","fromto":"d4c5"},{"color":"b","from":"d7","to":"d6","flags":"n","piece":"p","san":"d6","fromto":"d7d6"},{"color":"w","from":"c5","to":"a5","flags":"c","piece":"q","captured":"b","san":"Qxa5","fromto":"c5a5"},{"color":"b","from":"e8","to":"g8","flags":"k","piece":"k","san":"O-O","fromto":"e8g8"},{"color":"w","from":"c1","to":"g5","flags":"n","piece":"b","san":"Bg5","fromto":"c1g5"},{"color":"b","from":"h7","to":"h6","flags":"n","piece":"p","san":"h6","fromto":"h7h6"},{"color":"w","from":"g5","to":"h4","flags":"n","piece":"b","san":"Bh4","fromto":"g5h4"},{"color":"b","from":"g7","to":"g5","flags":"b","piece":"p","san":"g5","fromto":"g7g5"},{"color":"w","from":"f3","to":"g5","flags":"c","piece":"n","captured":"p","san":"Nxg5","fromto":"f3g5"},{"color":"b","from":"h6","to":"g5","flags":"c","piece":"p","captured":"n","san":"hxg5","fromto":"h6g5"},{"color":"w","from":"h4","to":"g5","flags":"c","piece":"b","captured":"p","san":"Bxg5","fromto":"h4g5"},{"color":"b","from":"c8","to":"f5","flags":"n","piece":"b","san":"Bf5","fromto":"c8f5"},{"color":"w","from":"g5","to":"f6","flags":"c","piece":"b","captured":"n","san":"Bxf6","fromto":"g5f6"},{"color":"b","from":"d8","to":"f6","flags":"c","piece":"q","captured":"b","san":"Qxf6","fromto":"d8f6"},{"color":"w","from":"b1","to":"d2","flags":"n","piece":"n","san":"Nd2","fromto":"b1d2"},{"color":"b","from":"g8","to":"h8","flags":"n","piece":"k","san":"Kh8","fromto":"g8h8"},{"color":"w","from":"a5","to":"c7","flags":"c","piece":"q","captured":"p","san":"Qxc7","fromto":"a5c7"},{"color":"b","from":"f8","to":"g8","flags":"n","piece":"r","san":"Rg8","fromto":"f8g8"},{"color":"w","from":"d2","to":"f3","flags":"n","piece":"n","san":"Nf3","fromto":"d2f3"},{"color":"b","from":"f5","to":"h3","flags":"n","piece":"b","san":"Bh3","fromto":"f5h3"},{"color":"w","from":"f3","to":"e1","flags":"n","piece":"n","san":"Ne1","fromto":"f3e1"},{"color":"b","from":"h3","to":"g2","flags":"c","piece":"b","captured":"p","san":"Bxg2","fromto":"h3g2"},{"color":"w","from":"e1","to":"g2","flags":"c","piece":"n","captured":"b","san":"Nxg2","fromto":"e1g2"},{"color":"b","from":"f6","to":"g5","flags":"n","piece":"q","san":"Qg5","fromto":"f6g5"},{"color":"w","from":"c4","to":"e2","flags":"n","piece":"b","san":"Be2","fromto":"c4e2"},{"color":"b","from":"g5","to":"g2","flags":"c","piece":"q","captured":"n","san":"Qxg2#","fromto":"g5g2"}]'),i=JSON.parse('["rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1","rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR b KQkq e3 0 1","rnbqkbnr/pppp1ppp/8/4p3/4P3/8/PPPP1PPP/RNBQKBNR w KQkq e6 0 2","rnbqkbnr/pppp1ppp/8/4p3/4P3/5N2/PPPP1PPP/RNBQKB1R b KQkq - 1 2","r1bqkbnr/pppp1ppp/2n5/4p3/4P3/5N2/PPPP1PPP/RNBQKB1R w KQkq - 2 3","r1bqkbnr/pppp1ppp/2n5/4p3/2B1P3/5N2/PPPP1PPP/RNBQK2R b KQkq - 3 3","r1bqk1nr/pppp1ppp/2n5/2b1p3/2B1P3/5N2/PPPP1PPP/RNBQK2R w KQkq - 4 4","r1bqk1nr/pppp1ppp/2n5/2b1p3/1PB1P3/5N2/P1PP1PPP/RNBQK2R b KQkq b3 0 4","r1bqk1nr/pppp1ppp/2n5/4p3/1bB1P3/5N2/P1PP1PPP/RNBQK2R w KQkq - 0 5","r1bqk1nr/pppp1ppp/2n5/4p3/1bB1P3/2P2N2/P2P1PPP/RNBQK2R b KQkq - 0 5","r1bqk1nr/pppp1ppp/2n5/b3p3/2B1P3/2P2N2/P2P1PPP/RNBQK2R w KQkq - 1 6","r1bqk1nr/pppp1ppp/2n5/b3p3/2B1P3/2P2N2/P2P1PPP/RNBQ1RK1 b kq - 2 6","r1bqk2r/pppp1ppp/2n2n2/b3p3/2B1P3/2P2N2/P2P1PPP/RNBQ1RK1 w kq - 3 7","r1bqk2r/pppp1ppp/2n2n2/b3p3/2BPP3/2P2N2/P4PPP/RNBQ1RK1 b kq d3 0 7","r1bqk2r/pppp1ppp/2n2n2/b7/2BpP3/2P2N2/P4PPP/RNBQ1RK1 w kq - 0 8","r1bqk2r/pppp1ppp/2n2n2/b7/2BPP3/5N2/P4PPP/RNBQ1RK1 b kq - 0 8","r1bqk2r/pppp1ppp/2n5/b7/2BPn3/5N2/P4PPP/RNBQ1RK1 w kq - 0 9","r1bqk2r/pppp1ppp/2n5/b2P4/2B1n3/5N2/P4PPP/RNBQ1RK1 b kq - 0 9","rnbqk2r/pppp1ppp/8/b2P4/2B1n3/5N2/P4PPP/RNBQ1RK1 w kq - 1 10","rnbqk2r/pppp1ppp/8/b2P4/2BQn3/5N2/P4PPP/RNB2RK1 b kq - 2 10","rnbqk2r/pppp1ppp/5n2/b2P4/2BQ4/5N2/P4PPP/RNB2RK1 w kq - 3 11","rnbqk2r/pppp1ppp/5n2/b1QP4/2B5/5N2/P4PPP/RNB2RK1 b kq - 4 11","rnbqk2r/ppp2ppp/3p1n2/b1QP4/2B5/5N2/P4PPP/RNB2RK1 w kq - 0 12","rnbqk2r/ppp2ppp/3p1n2/Q2P4/2B5/5N2/P4PPP/RNB2RK1 b kq - 0 12","rnbq1rk1/ppp2ppp/3p1n2/Q2P4/2B5/5N2/P4PPP/RNB2RK1 w - - 1 13","rnbq1rk1/ppp2ppp/3p1n2/Q2P2B1/2B5/5N2/P4PPP/RN3RK1 b - - 2 13","rnbq1rk1/ppp2pp1/3p1n1p/Q2P2B1/2B5/5N2/P4PPP/RN3RK1 w - - 0 14","rnbq1rk1/ppp2pp1/3p1n1p/Q2P4/2B4B/5N2/P4PPP/RN3RK1 b - - 1 14","rnbq1rk1/ppp2p2/3p1n1p/Q2P2p1/2B4B/5N2/P4PPP/RN3RK1 w - g6 0 15","rnbq1rk1/ppp2p2/3p1n1p/Q2P2N1/2B4B/8/P4PPP/RN3RK1 b - - 0 15","rnbq1rk1/ppp2p2/3p1n2/Q2P2p1/2B4B/8/P4PPP/RN3RK1 w - - 0 16","rnbq1rk1/ppp2p2/3p1n2/Q2P2B1/2B5/8/P4PPP/RN3RK1 b - - 0 16","rn1q1rk1/ppp2p2/3p1n2/Q2P1bB1/2B5/8/P4PPP/RN3RK1 w - - 1 17","rn1q1rk1/ppp2p2/3p1B2/Q2P1b2/2B5/8/P4PPP/RN3RK1 b - - 0 17","rn3rk1/ppp2p2/3p1q2/Q2P1b2/2B5/8/P4PPP/RN3RK1 w - - 0 18","rn3rk1/ppp2p2/3p1q2/Q2P1b2/2B5/8/P2N1PPP/R4RK1 b - - 1 18","rn3r1k/ppp2p2/3p1q2/Q2P1b2/2B5/8/P2N1PPP/R4RK1 w - - 2 19","rn3r1k/ppQ2p2/3p1q2/3P1b2/2B5/8/P2N1PPP/R4RK1 b - - 0 19","rn4rk/ppQ2p2/3p1q2/3P1b2/2B5/8/P2N1PPP/R4RK1 w - - 1 20","rn4rk/ppQ2p2/3p1q2/3P1b2/2B5/5N2/P4PPP/R4RK1 b - - 2 20","rn4rk/ppQ2p2/3p1q2/3P4/2B5/5N1b/P4PPP/R4RK1 w - - 3 21","rn4rk/ppQ2p2/3p1q2/3P4/2B5/7b/P4PPP/R3NRK1 b - - 4 21","rn4rk/ppQ2p2/3p1q2/3P4/2B5/8/P4PbP/R3NRK1 w - - 0 22","rn4rk/ppQ2p2/3p1q2/3P4/2B5/8/P4PNP/R4RK1 b - - 0 22","rn4rk/ppQ2p2/3p4/3P2q1/2B5/8/P4PNP/R4RK1 w - - 1 23","rn4rk/ppQ2p2/3p4/3P2q1/8/8/P3BPNP/R4RK1 b - - 2 23","rn4rk/ppQ2p2/3p4/3P4/8/8/P3BPqP/R4RK1 w - - 0 24"]')},689:(e,t,r)=>{r.d(t,{FB:()=>o,HX:()=>f,QZ:()=>a});var n=r(618);function o(e){const t=(0,n.qQ)();t.load_pgn(e);const r=t.history();var o=[];const a=(0,n.qQ)();return o.push(a.fen()),r.forEach(((e,t)=>{a.move(e),o.push(a.fen())})),o}function a(e){const t=(0,n.qQ)();t.load_pgn(e);const r=t.history({verbose:!0});return r.forEach(((e,t)=>{e.fromto=e.from+e.to})),r}const i={q:9,r:5,b:3,n:3,p:1,k:0};function s(e){return String.fromCharCode(97+e%8)+(8-Math.floor(e/8))}function p(e,t,r){if(r!=e.turn()){const t=l(e.fen());e=(0,n.qQ)(t)}let o=0;const a=e.get(t);if(null==a)return 0;if(a.color==r)return 0;const[i,s]=function(e,t,r){const n=e.get(t);if(n&&n.color===r)return[-1,-1];const o=function(e,t,r){const n=e.moves({verbose:!0});var o=[];for(const e of n)e.to==r&&o.push(e.from);return o}(e,0,t);let a=null,i=-1;for(const t of o){const r=e.get(t).type;(null===a||c(r)<c(a))&&(a=r,i=t)}return[a,i]}(e,t,r),P=a.type;return i&&P&&(function(e,t){e.move({from:t.substring(0,2),to:t.substring(2,4)})}(e,`${s}${t}`),o=Math.max(0,c(P)-p(e,t,function(e){return"w"===e?"b":"w"}(r))),function(e){e.undo()}(e)),o}function c(e){const t=e.toLowerCase();return i[t]}function l(e){var t=e.split(" ");return"w"==t[1]?t[1]="b":t[1]="w",t.join(" ")}function P(e){return e.split(" ")[1]}function h(e,t){let r=0;P(e)!=t&&(e=l(e));for(let n=0;n<64;n++)r=Math.max(r,d(e,s(n),t));return r}function d(e,t,r){return p((0,n.qQ)(e),t,r)}function u(e,t){const r=(0,n.qQ)();r.load(e);let o=0;for(let e=0;e<64;e++){const n=s(e),a=r.get(n);null!==a&&a.color===t&&(o+=c(a.type))}return o}function f(e,t,r,o){if(console.log("SAC",e,t,r,o),function(e){const t=(0,n.qQ)(e);return!(!t.in_check()||1!=t.moves.length)}(t))return!1;const a=P(e),i=u(e,a)-u(r,a),s=h(r,a),p=h(e,a);return d(t,o.substring(0,2),a)+1+i<d(r,o.substring(2,4),a)||(i?0<s-p-i:1<s-p-i)}},842:(e,t,r)=>{r.d(t,{e:()=>a});class n{constructor(){this.data={}}cachedDataToParsed(e){const t={};for(let r=0;r<2;r++)t[r]={},t[r].FEN=e.fen,"cp"in e.pvs[r]?(t[r].CP=e.pvs[r].cp,t[r].move=e.pvs[r].moves.split(" ")[0],t[r].cpOrMate="cp"):(t[r].CP=e.pvs[r].mate,t[r].move=e.pvs[r].moves.split(" ")[0],t[r].cpOrMate="mate"),t[r].depth=e.depth;return t}getEval(){return this.data[0].CP}sendMessage(e,t){const r="w"==t.split(" ")[1];if("info depth 0 score mate 0"==e)this.data[0]={move:-1,isCheckmated:!0,CP:r?1:-1,cpOrMate:"mate"},this.data[0].FEN=t,this.data[0].depth=123;else{const n=function(e){const t=e.match(/depth (\d+)/);return t?parseInt(t[1]):-1}(e),o=function(e){const t=e.match(/multipv\s(\d+)/);return t?parseInt(t[1]):null}(e),a=function(e){const t=e.match(/pv\s(\w{4})/);if(t)return t[1]}(e),i=function(e){const t=e.match(/ pv (.*)/);if(t)return t[1].trim().split(/\s+/)}(e);if(a){const s=function(e,t){const r=e.match(/score cp (-?\d+)/),n=e.match(/score mate (-?\d+)/);return r?{value:parseInt(r[1]),cpOrMate:"cp",isWhiteMove:t}:n?{value:parseInt(n[1]),cpOrMate:"mate",isWhiteMove:t}:void 0}(e,r);this.data[o-1]={move:a,CP:s.value*(r?1:-1),cpOrMate:s.cpOrMate,allMoves:i},this.data[o-1].FEN=t,this.data[o-1].depth=n}}}getAllData(){return this.data}clearData(){this.data={}}}var o=r(735);async function a(e){var t;await Stockfish().then((e=>{t=e}));const r=new i(t,e);return t.addMessageListener((e=>{r.handleMainMessage({from:"stockfish",message:e})})),r}class i{constructor(e,t){this.sendEvalAfterEveryMove=t,this.stockfishWorker=e,this.stockfishParser=new n,this.moveTimeLengthMs=t?1e5:o.D.STOCKFISH_MOVETIME,this.isCurrentlyWorking=null,this.currentFEN=null,this.analysisOrchestrator=null,this.whiteMove=!0,/Android|iPhone/i.test(navigator.userAgent)?(console.log("THIS IS MOBILE"),this.moveTimeLengthMs=500):this.stockfishWorker.postMessage("setoption name Hash value 256"),this.stockfishWorker.postMessage("setoption name Threads value 1"),this.stockfishWorker.postMessage("setoption name MultiPV value 2"),self.onmessage=this.handleMainMessage.bind(this)}async getLichessData(e){return[!1]}async checkCache(e){const t=await this.getLichessData(e);return 1==t[0]?[!0,this.stockfishParser.cachedDataToParsed(t[1])]:[!1]}deleteWorker(){this.stockfishWorker.terminate()}clearData(){this.stockfishWorker.postMessage("stop"),this.stockfishParser.clearData(),this.whiteMove=!0,this.isCurrentlyWorking=!1}setCallback(e){this.callbackFunction=e}fillRestOfDataForAnalysisOrchestrator(e){var t={};return t.positionEvaluation=e,t.FENstring=this.currentFEN,t.regularMove=this.currentRegularMove,t.moveIndex=this.moveIndex,t}async getAnalsysForFenPosition(e,t,r){this.currentFEN=e,this.currentRegularMove=t,this.moveIndex=r;const n=await this.checkCache(e);if(1==n[0])return this.callbackFunction(this.fillRestOfDataForAnalysisOrchestrator(n[1])),void(this.isCurrentlyWorking=!1);this.stockfishWorker.postMessage(`position fen ${e}`),this.stockfishWorker.postMessage(`go movetime ${this.moveTimeLengthMs}`)}async waitForRun(e,t,r){for(;this.isCurrentlyWorking;)await new Promise((e=>setTimeout(e,100)));this.isCurrentlyWorking=!0,await this.getAnalsysForFenPosition(e,t,r)}async stopAndStartNewAnalysis(e){this.stockfishWorker.postMessage("stop"),this.getAnalsysForFenPosition(e,"",0)}handleMainMessage(e){e.from;const t=e.message;if(t&&t.startsWith("bestmove")){this.whiteMove=!this.whiteMove;const e=this.stockfishParser.getAllData();var r=this.fillRestOfDataForAnalysisOrchestrator(e);this.stockfishParser.clearData(),this.sendEvalAfterEveryMove||this.callbackFunction(r),this.isCurrentlyWorking=!1}else{this.stockfishParser.sendMessage(t,this.currentFEN);const e=this.stockfishParser.getAllData();this.sendEvalAfterEveryMove&&this.callbackFunction(this.fillRestOfDataForAnalysisOrchestrator(e))}}}},392:(e,t,r)=>{r.a(e,(async(e,n)=>{try{r.d(t,{DZ:()=>p,LJ:()=>s,W3:()=>d,dF:()=>f,hJ:()=>c,k6:()=>l,mY:()=>u,qF:()=>h,wV:()=>P});var o=r(824),a=r(618),i=e([o]);function s(e){return 50+50*(2/(1+Math.exp(-.00368208*e))-1)}function p(e){var t=[];for(const r of e)t.push(r.CPreal);return t}function c(e,t,r){if(r){if(e<=t)return 100;{const r=e-t,n=103.1668100711649*Math.exp(-.04354415386753951*r)-3.166924740191411;return Math.max(Math.min(n+1,100),0)}}if(e>=t)return 100;{const r=t-e,n=103.1668100711649*Math.exp(-.04354415386753951*r)-3.166924740191411;return Math.max(Math.min(n+1,100),0)}}function l(e){const t=e[0].CP;var r={};if("mate"==e[0].cpOrMate)if(1==e[0].isCheckmated)r.CP="M0",r.evaluation=49*-t,e[0].CPreal=2e3*-t;else{const n=t>0?1:-1;r.CP="M"+t.toString(),r.evaluation=49*n,e[0].CPreal=2e3*n}else{e[0].CPreal=t;var n=50*(2/(1+Math.exp(-.004*t))-1);r.evaluation=n,r.CP=t}return r.CPreal=e[0].CPreal,r}function P(e,t){const r=(0,a.qQ)();r.load(t);var n=[];for(const t of e){const e=r.move({from:t.substring(0,2),to:t.substring(2,4),promotion:"q"});e?n.push(e.san):n.push(t)}return n}function h(e){const t=(0,a.qQ)();return t.load(e),!!t.in_checkmate()}o=(i.then?(await i)():i)[0];const d={draggable:!0,position:"start",onDragStart:g,onDrop:m};function u(e,t,r){return Math.min(Math.max(e,t),r)}function f(e){return e[0].charCodeAt(0)-"a".charCodeAt(0)}function g(e){var t=null;t=o.tQ.getInAlternative?o.tQ.getAlternativeChessObject():o.tQ.getChessObject();const r=o.sV.getChessboard();return!t.game_over()&&(!("w"===t.turn()&&(n=e.piece,!/^w/.test(n)))&&(!("b"===t.turn()&&!v(e.piece))&&void t.moves({square:e.square,verbose:!0}).forEach((e=>{r.addCircle(e.to)}))));var n}function v(e){return/^b/.test(e)}function m(e){if(!("wP"==e.piece&&"8"==e.target[1]||"bP"==e.piece&&"1"==e.target[1]))return b(e.source,e.target,"q");{const t=o.tQ.getChessObject();console.log(t.fen());const r=t.move({from:e.source,to:e.target,promotion:"q"});if(t.undo(),!r)return console.log("SNAP"),"snapback";{console.log("PROMOCIJA");const t=e.piece[0];o.sV.createPromotionPopup(b,e.source,e.target,t)}}}function b(e,t,r){return console.log("P"),o.sV.getChessboard(),o.tQ.getChessObject(),o.tQ.makePossibleAlternativeMove(e+t,r)}n()}catch(R){n(R)}}))}},a={};function i(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}};return o[e](r,r.exports,i),r.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",r="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",n=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},i.a=(o,a,i)=>{var s;i&&((s=[]).d=-1);var p,c,l,P=new Set,h=o.exports,d=new Promise(((e,t)=>{l=t,c=e}));d[t]=h,d[e]=e=>(s&&e(s),P.forEach(e),d.catch((e=>{}))),o.exports=d,a((o=>{var a;p=(o=>o.map((o=>{if(null!==o&&"object"==typeof o){if(o[e])return o;if(o.then){var a=[];a.d=0,o.then((e=>{i[t]=e,n(a)}),(e=>{i[r]=e,n(a)}));var i={};return i[e]=e=>e(a),i}}var s={};return s[e]=e=>{},s[t]=o,s})))(o);var i=()=>p.map((e=>{if(e[r])throw e[r];return e[t]})),c=new Promise((t=>{(a=()=>t(i)).r=0;var r=e=>e!==s&&!P.has(e)&&(P.add(e),e&&!e.d&&(a.r++,e.push(a)));p.map((t=>t[e](r)))}));return a.r?c:i()}),(e=>(e?l(d[r]=e):c(h),n(s)))),s&&s.d<0&&(s.d=0)},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i(824)})();